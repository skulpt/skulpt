

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; Problem Solving with Algorithms and Data Structures 3.0 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/video.css" type="text/css" />
    <link rel="stylesheet" href="_static/edu-python.css" type="text/css" />
    <link rel="stylesheet" href="_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="_static/theme/default.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/simplemodal.js"></script>
    <script type="text/javascript" src="_static/jquery.textarea.js"></script>
    <script type="text/javascript" src="_static/edu-python.js"></script>
    <script type="text/javascript" src="_static/bookfuncs.js"></script>
    <script type="text/javascript" src="_static/codemirror.js"></script>
    <script type="text/javascript" src="_static/python.js"></script>
    <script type="text/javascript" src="_static/skulpt.js"></script>
    <script type="text/javascript" src="_static/builtin.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Problem Solving with Algorithms and Data Structures 3.0 documentation" href="index.html" />
    <link rel="next" title="Algorithm Analysis" href="analysis.html" />
    <link rel="prev" title="Welcome to Problem Solving with Algorithms and Data Structures" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="analysis.html" title="Algorithm Analysis"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Problem Solving with Algorithms and Data Structures"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Problem Solving with Algorithms and Data Structures 3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#objectives">Objectives</a></li>
<li><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li><a class="reference internal" href="#what-is-computer-science">What Is Computer Science?</a><ul>
<li><a class="reference internal" href="#what-is-programming">What Is Programming?</a></li>
<li><a class="reference internal" href="#why-study-data-structures-and-abstract-data-types">Why Study Data Structures and Abstract Data Types?</a></li>
<li><a class="reference internal" href="#why-study-algorithms">Why Study Algorithms?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#review-of-basic-python">Review of Basic Python</a><ul>
<li><a class="reference internal" href="#getting-started-with-data">Getting Started with Data</a><ul>
<li><a class="reference internal" href="#built-in-atomic-data-types">Built-in Atomic Data Types</a></li>
<li><a class="reference internal" href="#built-in-collection-data-types">Built-in Collection Data Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-and-output">Input and Output</a><ul>
<li><a class="reference internal" href="#string-formatting">String Formatting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-structures">Control Structures</a></li>
<li><a class="reference internal" href="#exception-handling">Exception Handling</a></li>
<li><a class="reference internal" href="#defining-functions">Defining Functions</a></li>
<li><a class="reference internal" href="#object-oriented-programming-in-python-defining-classes">Object-Oriented Programming in Python: Defining Classes</a><ul>
<li><a class="reference internal" href="#a-fraction-class">A <tt class="docutils literal"><span class="pre">Fraction</span></tt> Class</a></li>
<li><a class="reference internal" href="#inheritance-logic-gates-and-circuits">Inheritance: Logic Gates and Circuits</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#summary">Summary</a></li>
<li><a class="reference internal" href="#key-terms">Key Terms</a></li>
<li><a class="reference internal" href="#discussion-questions">Discussion Questions</a></li>
<li><a class="reference internal" href="#programming-exercises">Programming Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to Problem Solving with Algorithms and Data Structures</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="analysis.html"
                        title="next chapter">Algorithm Analysis</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/introduction.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="objectives">
<h2>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>To review the ideas of computer science, programming, and
problem-solving.</li>
<li>To understand abstraction and the role it plays in the
problem-solving process.</li>
<li>To understand and implement the notion of an abstract data type.</li>
<li>To review the Python programming language.</li>
</ul>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>The way we think about programming has undergone many changes in the
years since the first electronic computers required patch cables and
switches to convey instructions from human to machine. As is the case
with many aspects of society, changes in computing technology provide
computer scientists with a growing number of tools and platforms on
which to practice their craft. Advances such as faster processors,
high-speed networks, and large memory capacities have created a spiral
of complexity through which computer scientists must navigate.
Throughout all of this rapid evolution, a number of basic principles
have remained constant. The science of computing is concerned with using
computers to solve problems.</p>
<p>You have no doubt spent considerable time learning the basics of
problem-solving and hopefully feel confident in your ability to take a
problem statement and develop a solution. You have also learned that
writing computer programs is often hard. The complexity of large
problems and the corresponding complexity of the solutions can tend to
overshadow the fundamental ideas related to the problem-solving process.</p>
<p>This chapter emphasizes two important areas for the rest of the text.
First, it reviews the framework within which computer science and the
study of algorithms and data structures must fit, in particular, the
reasons why we need to study these topics and how understanding these
topics helps us to become better problem solvers. Second, we review the
Python programming language. Although we cannot provide a detailed,
exhaustive reference, we will give examples and explanations for the
basic constructs and ideas that will occur throughout the remaining
chapters.</p>
</div>
<div class="section" id="what-is-computer-science">
<h2>What Is Computer Science?<a class="headerlink" href="#what-is-computer-science" title="Permalink to this headline">¶</a></h2>
<p>Computer science is often difficult to define. This is probably due to
the unfortunate use of the word “computer” in the name. As you are
perhaps aware, computer science is not simply the study of computers.
Although computers play an important supporting role as a tool in the
discipline, they are just that–tools.</p>
<p>Computer science is the study of problems, problem-solving, and the
solutions that come out of the problem-solving process. Given a problem,
a computer scientist’s goal is to develop an <strong>algorithm</strong>, a
step-by-step list of instructions for solving any instance of the
problem that might arise. Algorithms are finite processes that if
followed will solve the problem. Algorithms are solutions.</p>
<p>Computer science can be thought of as the study of algorithms. However,
we must be careful to include the fact that some problems may not have a
solution. Although proving this statement is beyond the scope of this
text, the fact that some problems cannot be solved is important for
those who study computer science. We can fully define computer science,
then, by including both types of problems and stating that computer
science is the study of solutions to problems as well as the study of
problems with no solutions.</p>
<p>It is also very common to include the word <strong>computable</strong> when
describing problems and solutions. We say that a problem is computable
if an algorithm exists for solving it. An alternative definition for
computer science, then, is to say that computer science is the study of
problems that are and that are not computable, the study of the
existence and the nonexistence of algorithms. In any case, you will note
that the word “computer” did not come up at all. Solutions are
considered independent from the machine.</p>
<p>Computer science, as it pertains to the problem-solving process itself,
is also the study of <strong>abstraction</strong>. Abstraction allows us to view the
problem and solution in such a way as to separate the so-called logical
and physical perspectives. The basic idea is familiar to us in a common
example.</p>
<p>Consider the automobile that you may have driven to school or work
today. As a driver, a user of the car, you have certain interactions
that take place in order to utilize the car for its intended purpose.
You get in, insert the key, start the car, shift, brake, accelerate, and
steer in order to drive. From an abstraction point of view, we can say
that you are seeing the logical perspective of the automobile. You are
using the functions provided by the car designers for the purpose of
transporting you from one location to another. These functions are
sometimes also referred to as the <strong>interface</strong>.</p>
<p>On the other hand, the mechanic who must repair your automobile takes a
very different point of view. She not only knows how to drive but must
know all of the details necessary to carry out all the functions that we
take for granted. She needs to understand how the engine works, how the
transmission shifts gears, how temperature is controlled, and so on.
This is known as the physical perspective, the details that take place
“under the hood.”</p>
<p>The same thing happens when we use computers. Most people use computers
to write documents, send and receive email, surf the web, play music,
store images, and play games without any knowledge of the details that
take place to allow those types of applications to work. They view
computers from a logical or user perspective. Computer scientists,
programmers, technology support staff, and system administrators take a
very different view of the computer. They must know the details of how
operating systems work, how network protocols are configured, and how to
code various scripts that control function. They must be able to control
the low-level details that a user simply assumes.</p>
<p>The common point for both of these examples is that the user of the
abstraction, sometimes also called the client, does not need to know the
details as long as the user is aware of the way the interface works.
This interface is the way we as users communicate with the underlying
complexities of the implementation. As another example of abstraction,
consider the Python <tt class="docutils literal"><span class="pre">math</span></tt> module. Once we import the module, we can
perform computations such as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This is an example of <strong>procedural abstraction</strong>. We do not necessarily
know how the square root is being calculated, but we know what the
function is called and how to use it. If we perform the import
correctly, we can assume that the function will provide us with the
correct results. We know that someone implemented a solution to the
square root problem but we only need to know how to use it. This is
sometimes referred to as a “black box” view of a process. We simply
describe the interface: the name of the function, what is needed (the
parameters), and what will be returned. The details are hidden inside
(<a class="reference internal" href="#fig-procabstraction"><em>Figure 1</em></a>).</p>
<div class="figure align-center" id="fig-procabstraction">
<a class="reference internal image-reference" href="_images/blackbox.png"><img alt="_images/blackbox.png" src="_images/blackbox.png" style="width: 161.5px; height: 58.0px;" /></a>
<p class="caption">Procedural Abstraction &#8211; test</p>
</div>
<div class="section" id="what-is-programming">
<h3>What Is Programming?<a class="headerlink" href="#what-is-programming" title="Permalink to this headline">¶</a></h3>
<p><strong>Programming</strong> is the process of taking an algorithm and encoding it
into a notation, a programming language, so that it can be executed by a
computer. Although many programming languages and many different types
of computers exist, the important first step is the need to have the
solution. Without an algorithm there can be no program.</p>
<p>Computer science is not the study of programming. Programming, however,
is an important part of what a computer scientist does. Programming is
often the way that we create a representation for our solutions.
Therefore, this language representation and the process of creating it
becomes a fundamental part of the discipline.</p>
<p>Algorithms describe the solution to a problem in terms of the data
needed to represent the problem instance and the set of steps necessary
to produce the intended result. Programming languages must provide a
notational way to represent both the process and the data. To this end,
languages provide control constructs and data types.</p>
<p>Control constructs allow algorithmic steps to be represented in a
convenient yet unambiguous way. At a minimum, algorithms require
constructs that perform sequential processing, selection for
decision-making, and iteration for repetitive control. As long as the
language provides these basic statements, it can be used for algorithm
representation.</p>
<p>All data items in the computer are represented as strings of binary
digits. In order to give these strings meaning, we need to have <strong>data
types</strong>. Data types provide an interpretation for this binary data so
that we can think about the data in terms that make sense with respect
to the problem being solved. These low-level, built-in data types
(sometimes called the primitive data types) provide the building blocks
for algorithm development.</p>
<p>For example, most programming languages provide a data type for
integers. Strings of binary digits in the computer’s memory can be
interpreted as integers and given the typical meanings that we commonly
associate with integers (e.g. 23, 654, and -19). In addition, a data
type also provides a description of the operations that the data items
can participate in. With integers, operations such as addition,
subtraction, and multiplication are common. We have come to expect that
numeric types of data can participate in these arithmetic operations.</p>
<p>The difficulty that often arises for us is the fact that problems and
their solutions are very complex. These simple, language-provided
constructs and data types, although certainly sufficient to represent
complex solutions, are typically at a disadvantage as we work through
the problem-solving process. We need ways to control this complexity and
assist with the creation of solutions.</p>
</div>
<div class="section" id="why-study-data-structures-and-abstract-data-types">
<h3>Why Study Data Structures and Abstract Data Types?<a class="headerlink" href="#why-study-data-structures-and-abstract-data-types" title="Permalink to this headline">¶</a></h3>
<p>To manage the complexity of problems and the problem-solving process,
computer scientists use abstractions to allow them to focus on the “big
picture” without getting lost in the details. By creating models of the
problem domain, we are able to utilize a better and more efficient
problem-solving process. These models allow us to describe the data that
our algorithms will manipulate in a much more consistent way with
respect to the problem itself.</p>
<p>Earlier, we referred to procedural abstraction as a process that hides
the details of a particular function to allow the user or client to view
it at a very high level. We now turn our attention to a similar idea,
that of <strong>data abstraction</strong>. An <strong>abstract data type</strong>, sometimes
abbreviated <strong>ADT</strong>, is a logical description of how we view the data
and the operations that are allowed without regard to how they will be
implemented. This means that we are concerned only with what the data is
representing and not with how it will eventually be constructed. By
providing this level of abstraction, we are creating an
<strong>encapsulation</strong> around the data. The idea is that by encapsulating the
details of the implementation, we are hiding them from the user’s view.
This is called <strong>information hiding</strong>.</p>
<p><a class="reference internal" href="#fig-adt"><em>Figure 2</em></a> shows a picture of what an abstract data type is and how it
operates. The user interacts with the interface, using the operations
that have been specified by the abstract data type. The abstract data
type is the shell that the user interacts with. The implementation is
hidden one level deeper. The user is not concerned with the details of
the implementation.</p>
<div class="figure align-center" id="fig-adt">
<a class="reference internal image-reference" href="_images/adt.png"><img alt="_images/adt.png" src="_images/adt.png" style="width: 130.0px; height: 139.5px;" /></a>
<p class="caption">Abstract Data Type</p>
</div>
<p>The implementation of an abstract data type, often referred to as a
<strong>data structure</strong>, will require that we provide a physical view of the
data using some collection of programming constructs and primitive data
types. As we discussed earlier, the separation of these two perspectives
will allow us to define the complex data models for our problems without
giving any indication as to the details of how the model will actually
be built. This provides an <strong>implementation-independent</strong> view of the
data. Since there will usually be many different ways to implement an
abstract data type, this implementation independence allows the
programmer to switch the details of the implementation without changing
the way the user of the data interacts with it. The user can remain
focused on the problem-solving process.</p>
</div>
<div class="section" id="why-study-algorithms">
<h3>Why Study Algorithms?<a class="headerlink" href="#why-study-algorithms" title="Permalink to this headline">¶</a></h3>
<p>Computer scientists learn by experience. We learn by seeing others solve
problems and by solving problems by ourselves. Being exposed to
different problem-solving techniques and seeing how different algorithms
are designed helps us to take on the next challenging problem that we
are given. By considering a number of different algorithms, we can begin
to develop pattern recognition so that the next time a similar problem
arises, we are better able to solve it.</p>
<p>Algorithms are often quite different from one another. Consider the
example of <tt class="docutils literal"><span class="pre">sqrt</span></tt> seen earlier. It is entirely possible that there are
many different ways to implement the details to compute the square root
function. One algorithm may use many fewer resources than another. One
algorithm might take 10 times as long to return the result as the other.
We would like to have some way to compare these two solutions. Even
though they both work, one is perhaps “better” than the other. We might
suggest that one is more efficient or that one simply works faster or
uses less memory. As we study algorithms, we can learn analysis
techniques that allow us to compare and contrast solutions based solely
on their own characteristics, not the characteristics of the program or
computer used to implement them.</p>
<p>In the worst case scenario, we may have a problem that is intractable,
meaning that there is no algorithm that can solve the problem in a
realistic amount of time. It is important to be able to distinguish
between those problems that have solutions, those that do not, and those
where solutions exist but require too much time or other resources to
work reasonably.</p>
<p>There will often be trade-offs that we will need to identify and decide
upon. As computer scientists, in addition to our ability to solve
problems, we will also need to know and understand solution evaluation
techniques. In the end, there are often many ways to solve a problem.
Finding a solution and then deciding whether it is a good one are tasks
that we will do over and over again.</p>
</div>
</div>
<div class="section" id="review-of-basic-python">
<h2>Review of Basic Python<a class="headerlink" href="#review-of-basic-python" title="Permalink to this headline">¶</a></h2>
<p>In this section, we will review the programming language Python and also
provide some more detailed examples of the ideas from the previous
section. If you are new to Python or find that you need more information
about any of the topics presented, we recommend that you consult the
resources listed at the end of this book.{oreilly04}{zelle04} Our goal
here is to reacquaint you with the language and also reinforce some of
the concepts that will be central to later chapters.</p>
<p>Python is a modern, easy-to-learn, object-oriented programming language.
It has a powerful set of built-in data types and easy-to-use control
constructs. Since Python is an interpreted language, it is most easily
reviewed by simply looking at and describing interactive sessions. You
should recall that the interpreter displays the familiar <tt class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></tt> prompt
and then evaluates the Python construct that you provide. For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Algorithms and Data Structures&quot;</span><span class="p">)</span>
<span class="go">Algorithms and Data Structures</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>shows the prompt, the <tt class="docutils literal"><span class="pre">print</span></tt> function, the result, and the next
prompt.</p>
<div class="section" id="getting-started-with-data">
<h3>Getting Started with Data<a class="headerlink" href="#getting-started-with-data" title="Permalink to this headline">¶</a></h3>
<p>We stated above that Python supports the object-oriented programming
paradigm. This means that Python considers data to be the focal point of
the problem-solving process. In Python, as well as in any other
object-oriented programming language, we define a <strong>class</strong> to be a
description of what the data look like (the state) and what the data can
do (the behavior). Classes are analogous to abstract data types because
a user of a class only sees the state and behavior of a data item. Data
items are called <strong>objects</strong> in the object-oriented paradigm. An object
is an instance of a class.</p>
<div class="section" id="built-in-atomic-data-types">
<h4>Built-in Atomic Data Types<a class="headerlink" href="#built-in-atomic-data-types" title="Permalink to this headline">¶</a></h4>
<p>We will begin our review by considering the atomic data types. Python
has two main built-in numeric classes that implement the integer and
floating point data types. These Python classes are called <tt class="docutils literal"><span class="pre">int</span></tt> and
<tt class="docutils literal"><span class="pre">float</span></tt>. The standard arithmetic operations, +, -, *, /, and **
(exponentiation), can be used with parentheses forcing the order of
operations away from normal operator precedence. Other very useful
operations are the remainder (modulo) operator, %, and integer division,
//. Note that when two integers are divided, the result is a floating
point. The integer division operator returns the integer portion of the
quotient by truncating any fractional part.</p>

<div id="intro_1" >
<textarea cols="50" rows="12" id="intro_1_code" class="active_code">
print 2+3*4
print (2+3)*4
print 2**10
print 6/3
print 7/3
print 7//3
print 7%3
print 3/6
print 3//6
print 3%6
print 2**100

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_1)</span> </p>
<button onclick="runit('intro_1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_1');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_1');">Load</button>
<br />

<canvas id="intro_1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_1_pre" class="active_out">

</pre>

</div>

<p>The boolean data type, implemented as the Python <tt class="docutils literal"><span class="pre">bool</span></tt> class, will be
quite useful for representing truth values. The possible state values
for a boolean object are <tt class="docutils literal"><span class="pre">True</span></tt> and <tt class="docutils literal"><span class="pre">False</span></tt> with the standard
boolean operators, <tt class="docutils literal"><span class="pre">and</span></tt>, <tt class="docutils literal"><span class="pre">or</span></tt>, and <tt class="docutils literal"><span class="pre">not</span></tt>.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="bp">True</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">False</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">False</span> <span class="ow">or</span> <span class="bp">True</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="ow">not</span> <span class="p">(</span><span class="bp">False</span> <span class="ow">or</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">True</span> <span class="ow">and</span> <span class="bp">True</span>
<span class="go">True</span>
</pre></div>
</td></tr></table></div>
<p>Boolean data objects are also used as results for comparison operators
such as equality (==) and greater than (<span class="math">\(&gt;\)</span>). In addition,
relational operators and logical operators can be combined together to
form complex logical questions. <a class="reference internal" href="#tab-relational"><em>Table&nbsp;1</em></a> shows the relational
and logical operators with examples shown in the session that follows.</p>
<table border="1" class="docutils" id="tab-relational">
<colgroup>
<col width="25%" />
<col width="13%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Operation Name</strong></th>
<th class="head"><strong>Operator</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>less than</td>
<td><span class="math">\(&lt;\)</span></td>
<td>Less than operator</td>
</tr>
<tr class="row-odd"><td>greater than</td>
<td><span class="math">\(&gt;\)</span></td>
<td>Greater than operator</td>
</tr>
<tr class="row-even"><td>less than or equal</td>
<td><span class="math">\(&lt;=\)</span></td>
<td>Less than or equal to operator</td>
</tr>
<tr class="row-odd"><td>greater than or equal</td>
<td><span class="math">\(&gt;=\)</span></td>
<td>Greater than or equal to operator</td>
</tr>
<tr class="row-even"><td>equal</td>
<td><span class="math">\(==\)</span></td>
<td>Equality operator</td>
</tr>
<tr class="row-odd"><td>not equal</td>
<td><span class="math">\(!=\)</span></td>
<td>Not equal operator</td>
</tr>
<tr class="row-even"><td>logical and</td>
<td><span class="math">\(and\)</span></td>
<td>Both operands True for result to be True</td>
</tr>
<tr class="row-odd"><td>logical or</td>
<td><span class="math">\(or\)</span></td>
<td>One or the other operand is True for the result to be True</td>
</tr>
<tr class="row-even"><td>logical not</td>
<td><span class="math">\(not\)</span></td>
<td>Negates the truth value, False becomes True, True becomes False</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Relational and Logical Operators</div></blockquote>

<div id="intro_2" >
<textarea cols="50" rows="12" id="intro_2_code" class="active_code">
print(5==10)
print(10 > 5)
print((5 >= 1) and (5 <= 10))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_2)</span> </p>
<button onclick="runit('intro_2',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_2');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_2');">Load</button>
<br />

<canvas id="intro_2_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_2_pre" class="active_out">

</pre>

</div>

<p>Identifiers are used in programming languages as names. In Python,
identifiers start with a letter or an underscore (_), are case
sensitive, and can be of any length. Remember that it is always a good
idea to use names that convey meaning so that your program code is
easier to read and understand.</p>
<p>A Python variable is created when a name is used for the first time on
the left-hand side of an assignment statement. Assignment statements
provide a way to associate a name with a value. The variable will hold a
reference to a piece of data and not the data itself. Consider the
following session:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span> <span class="o">=</span> <span class="n">theSum</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theSum</span>
<span class="go">True</span>
</pre></div>
</td></tr></table></div>
<p>The assignment statement <tt class="docutils literal"><span class="pre">theSum</span> <span class="pre">=</span> <span class="pre">0</span></tt> creates a variable called
<tt class="docutils literal"><span class="pre">theSum</span></tt> and lets it hold the reference to the data object <tt class="docutils literal"><span class="pre">0</span></tt> (see
<a class="reference internal" href="#fig-assignment1"><em>Figure 3</em></a>). In general, the right-hand side of the assignment
statement is evaluated and a reference to the resulting data object is
“assigned” to the name on the left-hand side. At this point in our
example, the type of the variable is integer as that is the type of the
data currently being referred to by <tt class="docutils literal"><span class="pre">thesum</span></tt>. If the type of the data
changes (see <a class="reference internal" href="#fig-assignment2"><em>Figure 4</em></a>), as shown above with the boolean
value <tt class="docutils literal"><span class="pre">True</span></tt>, so does the type of the variable (<tt class="docutils literal"><span class="pre">thesum</span></tt> is now of
the type boolean). The assignment statement changes the reference being
held by the variable. This is a dynamic characteristic of Python. The
same variable can refer to many different types of data.</p>
<div class="figure align-center" id="fig-assignment1">
<img alt="_images/assignment1.png" src="_images/assignment1.png" />
<p class="caption">Variables Hold References to Data Objects</p>
</div>
<div class="figure align-center" id="fig-assignment2">
<img alt="_images/assignment2.png" src="_images/assignment2.png" />
<p class="caption">Assignment Changes the Reference</p>
</div>
</div>
<div class="section" id="built-in-collection-data-types">
<h4>Built-in Collection Data Types<a class="headerlink" href="#built-in-collection-data-types" title="Permalink to this headline">¶</a></h4>
<p>In addition to the numeric and boolean classes, Python has a number of
very powerful built-in collection classes. Lists, strings, and tuples
are ordered collections that are very similar in general structure but
have specific differences that must be understood for them to be used
properly. Sets and dictionaries are unordered collections.</p>
<p>A <strong>list</strong> is an ordered collection of zero or more references to Python
data objects. Lists are written as comma-delimited values enclosed in
square brackets. The empty list is simply <tt class="docutils literal"><span class="pre">[</span> <span class="pre">]</span></tt>. Lists are
heterogeneous, meaning that the data objects need not all be from the
same class and the collection can be assigned to a variable as below.
The following fragment shows a variety of Python data objects in a list.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="mf">6.5</span><span class="p">]</span>
<span class="go">[1, 3, True, 6.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="mf">6.5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span>
<span class="go">[1, 3, True, 6.5]</span>
</pre></div>
</td></tr></table></div>
<p>Note that when Python evaluates a list, the list itself is returned.
However, in order to remember the list for later processing, its
reference needs to be assigned to a variable.</p>
<p>Since lists are considered to be sequentially ordered, they support a
number of operations that can be applied to any Python sequence.
<a class="reference internal" href="#tab-sequence"><em>Table&nbsp;2</em></a> reviews these operations and the following session
gives examples of their use.</p>
<table border="1" class="docutils" id="tab-sequence">
<colgroup>
<col width="33%" />
<col width="17%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Operation Name</strong></th>
<th class="head"><strong>Operator</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>indexing</td>
<td>[ ]</td>
<td>Access an element of a sequence</td>
</tr>
<tr class="row-odd"><td>concatenation</td>
<td>+</td>
<td>Combine sequences together</td>
</tr>
<tr class="row-even"><td>repetition</td>
<td>*</td>
<td>Concatenate a repeated number of times</td>
</tr>
<tr class="row-odd"><td>membership</td>
<td>in</td>
<td>Ask whether an item is in a sequence</td>
</tr>
<tr class="row-even"><td>length</td>
<td>len</td>
<td>Ask the number of items in the sequence</td>
</tr>
<tr class="row-odd"><td>slicing</td>
<td>[ : ]</td>
<td>Extract a part of a sequence</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Operations on Any Sequence in Python</div></blockquote>
<p>Note that the indices for lists (sequences) start counting with 0. The
slice operation, myList[1:3], returns a list of items starting with the
item indexed by 1 up to but not including the item indexed by 3.</p>
<p>Sometimes, you will want to initialize a list. This can quickly be
accomplished by using repetition. For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span>
<span class="go">[0, 0, 0, 0, 0, 0]</span>
</pre></div>
</div>
<p>One very important aside relating to the repetition operator is that the
result is a repetition of references to the data objects in the
sequence. This can best be seen by considering the following session:</p>

<div id="intro_3" >
<textarea cols="50" rows="12" id="intro_3_code" class="active_code">
myList = [1,2,3,4]
A = [myList]*3
print(A)
myList[2]=45
print(A)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_3)</span> </p>
<button onclick="runit('intro_3',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_3');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_3');">Load</button>
<br />

<canvas id="intro_3_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_3_pre" class="active_out">

</pre>

</div>

<p>The variable <tt class="docutils literal"><span class="pre">A</span></tt> holds a collection of three references to the
original list called <tt class="docutils literal"><span class="pre">myList</span></tt>. Note that a change to one element of
<tt class="docutils literal"><span class="pre">myList</span></tt> shows up in all three occurrences in <tt class="docutils literal"><span class="pre">A</span></tt>.</p>
<p>Lists support a number of methods that will be used to build data
structures. <a class="reference internal" href="#tab-listmethods"><em>Table&nbsp;3</em></a> provides a summary. Examples of their
use follow.</p>
<table border="1" class="docutils" id="tab-listmethods">
<colgroup>
<col width="23%" />
<col width="25%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">append</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.append(item)</span></tt></td>
<td>Adds a new item to the end of a list</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">insert</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.insert(i,item)</span></tt></td>
<td>Inserts an item at the ith position in a list</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">pop</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.pop()</span></tt></td>
<td>Removes and returns the last item in a list</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">pop</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.pop(i)</span></tt></td>
<td>Removes and returns the ith item in a list</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sort</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.sort()</span></tt></td>
<td>Modifies a list to be sorted</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">reverse</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.reverse()</span></tt></td>
<td>Modifies a list to be in reverse order</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">del</span></tt></td>
<td><tt class="docutils literal"><span class="pre">del</span> <span class="pre">alist[i]</span></tt></td>
<td>Deletes the item in the ith position</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">index</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.index(item)</span></tt></td>
<td>Returns the index of the first occurrence of <tt class="docutils literal"><span class="pre">item</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">count</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.count(item)</span></tt></td>
<td>Returns the number of occurrences of <tt class="docutils literal"><span class="pre">item</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">remove</span></tt></td>
<td><tt class="docutils literal"><span class="pre">alist.remove(item)</span></tt></td>
<td>Removes the first occurrence of <tt class="docutils literal"><span class="pre">item</span></tt></td>
</tr>
</tbody>
</table>
<blockquote>
<div>Methods Provided by Lists in Python</div></blockquote>

<div id="intro_5" >
<textarea cols="50" rows="12" id="intro_5_code" class="active_code">
myList = [1024, 3, True, 6.5]
myList.append(False)
print(myList)
myList.insert(2,4.5)
print(myList)
print(myList.pop())
print(myList)
print(myList.pop(1))
print(myList)
myList.pop(2)
print(myList)
myList.sort()
print(myList)
myList.reverse()
print(myList)
print(myList.count(6.5))
print(myList.index(4.5))
myList.remove(6.5)
print(myList)
del myList[0]
print(myList)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_5)</span> </p>
<button onclick="runit('intro_5',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_5');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_5');">Load</button>
<br />

<canvas id="intro_5_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_5_pre" class="active_out">

</pre>

</div>

<p>You can see that some of the methods, such as <tt class="docutils literal"><span class="pre">pop</span></tt>, return a value
and also modify the list. Others, such as <tt class="docutils literal"><span class="pre">reverse</span></tt>, simply modify the
list with no return value. <tt class="docutils literal"><span class="pre">pop</span></tt> will default to the end of the list
but can also remove and return a specific item. The index range starting
from 0 is again used for these methods. You should also notice the
familiar “dot” notation for asking an object to invoke a method.
<tt class="docutils literal"><span class="pre">myList.append(False)</span></tt> can be read as “ask the object <tt class="docutils literal"><span class="pre">myList</span></tt> to
perform its <tt class="docutils literal"><span class="pre">append</span></tt> method and send it the value <tt class="docutils literal"><span class="pre">False</span></tt>.” Even
simple data objects such as integers can invoke methods in this way.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">54</span><span class="p">)</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span>
<span class="go">75</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>In this fragment we are asking the integer object <tt class="docutils literal"><span class="pre">54</span></tt> to execute its
<tt class="docutils literal"><span class="pre">add</span></tt> method (called <tt class="docutils literal"><span class="pre">__add__</span></tt> in Python) and passing it <tt class="docutils literal"><span class="pre">21</span></tt> as
the value to add. The result is the sum, <tt class="docutils literal"><span class="pre">75</span></tt>. Of course, we usually
write this as <tt class="docutils literal"><span class="pre">54+21</span></tt>. We will say much more about these methods later
in this section.</p>
<p>One common Python function that is often discussed in conjunction with
lists is the <tt class="docutils literal"><span class="pre">range</span></tt> function. <tt class="docutils literal"><span class="pre">range</span></tt> produces a range object that
represents a sequence of values. By using the <tt class="docutils literal"><span class="pre">list</span></tt> function, it is
possible to see the value of the range object as a list. This is
illustrated below.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">range(0, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="go">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">range(5, 10)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="go">[5, 6, 7, 8, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[5, 7, 9]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[10, 9, 8, 7, 6, 5, 4, 3, 2]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The range object represents a sequence of integers. By default, it will
start with 0. If you provide more parameters, it will start and end at
particular points and can even skip items. In our first example,
<tt class="docutils literal"><span class="pre">range(10)</span></tt>, the sequence starts with 0 and goes up to but does not
include 10. In our second example, <tt class="docutils literal"><span class="pre">range(5,10)</span></tt> starts at 5 and goes
up to but not including 10. <tt class="docutils literal"><span class="pre">range(5,10,2)</span></tt> performs similarly but
skips by twos (again, 10 is not included).</p>
<p><strong>Strings</strong> are sequential collections of zero or more letters, numbers
and other symbols. We call these letters, numbers and other symbols
<em>characters</em>. Literal string values are differentiated from identifiers
by using quotation marks (either single or double).</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;David&quot;</span>
<span class="go">&#39;David&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span> <span class="o">=</span> <span class="s">&quot;David&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">&#39;i&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="o">*</span><span class="mi">2</span>
<span class="go">&#39;DavidDavid&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">myName</span><span class="p">)</span>
<span class="go">5</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Since strings are sequences, all of the sequence operations described
above work as you would expect. In addition, strings have a number of
methods, some of which are shown in <a class="reference internal" href="#tab-stringmethods"><em>Table&nbsp;4</em></a>. For example,</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span>
<span class="go">&#39;David&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="go">&#39;DAVID&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">&#39;  David   &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">&#39;v&#39;</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;v&#39;</span><span class="p">)</span>
<span class="go">[&#39;Da&#39;, &#39;id&#39;]</span>
</pre></div>
</td></tr></table></div>
<p>Of these, <tt class="docutils literal"><span class="pre">split</span></tt> will be very useful for processing data. <tt class="docutils literal"><span class="pre">split</span></tt>
will take a string and return a list of strings using the split
character as a division point. In the example, <tt class="docutils literal"><span class="pre">v</span></tt> is the division
point. If no division is specified, the split method looks for
whitespace characters such as tab, newline and space.</p>
<table border="1" class="docutils" id="tab-stringmethods">
<colgroup>
<col width="22%" />
<col width="23%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">center</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.center(w)</span></tt></td>
<td>Returns a string centered in a field of size <tt class="docutils literal"><span class="pre">w</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">count</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.count(item)</span></tt></td>
<td>Returns the number of occurrences of <tt class="docutils literal"><span class="pre">item</span></tt> in the string</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">ljust</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.ljust(w)</span></tt></td>
<td>Returns a string left-justified in a field of size <tt class="docutils literal"><span class="pre">w</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">lower</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.lower()</span></tt></td>
<td>Returns a string in all lowercase</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">rjust</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.rjust(w)</span></tt></td>
<td>Returns a string right-justified in a field of size <tt class="docutils literal"><span class="pre">w</span></tt></td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">find</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.find(item)</span></tt></td>
<td>Returns the index of the first occurrence of <tt class="docutils literal"><span class="pre">item</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">split</span></tt></td>
<td><tt class="docutils literal"><span class="pre">astring.split(schar)</span></tt></td>
<td>Splits a string into substrings at <tt class="docutils literal"><span class="pre">schar</span></tt></td>
</tr>
</tbody>
</table>
<blockquote>
<div>Methods Provided by Strings in Python</div></blockquote>
<p>A major difference between lists and strings is that lists can be
modified while strings cannot. This is referred to as <strong>mutability</strong>.
Lists are mutable; strings are immutable. For example, you can change an
item in a list by using indexing and assignment. With a string that
change is not allowed.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span>
<span class="go">[1, 3, True, 6.5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span><span class="o">**</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myList</span>
<span class="go">[1024, 3, True, 6.5]</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span>
<span class="go">&#39;David&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myName</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;X&#39;</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#84&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">-toplevel-</span>
    <span class="n">myName</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="s">&#39;X&#39;</span>
<span class="gr">TypeError</span>: <span class="n">object doesn&#39;t support item assignment</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Tuples are very similar to lists in that they are heterogeneous
sequences of data. The difference is that a tuple is immutable, like a
string. A tuple cannot be changed. Tuples are written as comma-delimited
values enclosed in parentheses. As sequences, they can use any operation
described above. For example,</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="mf">4.96</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span>
<span class="go">(2, True, 4.96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">myTuple</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span> <span class="o">*</span> <span class="mi">3</span>
<span class="go">(2, True, 4.96, 2, True, 4.96, 2, True, 4.96)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="go">(2, True)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>However, if you try to change an item in a tuple, you will get an error.
Note that the error message provides location and reason for the
problem.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myTuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="bp">False</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#137&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">-toplevel-</span>
    <span class="n">myTuple</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="bp">False</span>
<span class="gr">TypeError</span>: <span class="n">object doesn&#39;t support item assignment</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>A set is an unordered collection of zero or more immutable Python data
objects. Sets do not allow duplicates and are written as comma-delimited
values enclosed in curly braces. The empty set is represented by
<tt class="docutils literal"><span class="pre">set()</span></tt>. Sets are heterogeneous, and the collection can be assigned to
a variable as below.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="s">&quot;cat&quot;</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="bp">False</span><span class="p">}</span>
<span class="go">{False, 4.5, 3, 6, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="s">&quot;cat&quot;</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="bp">False</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{False, 4.5, 3, 6, &#39;cat&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Even though sets are not considered to be sequential, they do support a
few of the familiar operations presented earlier. <a class="reference internal" href="#tab-setops"><em>Table&nbsp;5</em></a> reviews
these operations and the following session gives examples of their use.</p>
<table border="1" class="docutils" id="tab-setops">
<colgroup>
<col width="23%" />
<col width="18%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Operation Name</strong></th>
<th class="head"><strong>Operator</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>membership</td>
<td>in</td>
<td>Set membership</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>len</td>
<td>Returns the cardinality of the set</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">|</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset</span> <span class="pre">|</span> <span class="pre">otherset</span></tt></td>
<td>Returns a new set with all elements from both sets</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&amp;</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset</span> <span class="pre">&amp;</span> <span class="pre">otherset</span></tt></td>
<td>Returns a new set with only those elements common to both sets</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset</span> <span class="pre">-</span> <span class="pre">otherset</span></tt></td>
<td>Returns a new set with all items from the first set not in second</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;=</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset</span> <span class="pre">&lt;=</span> <span class="pre">otherset</span></tt></td>
<td>Asks whether all elements of  the first set are in the second</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Operations on a Set in Python</div></blockquote>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{False, 4.5, 3, 6, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">mySet</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">False</span> <span class="ow">in</span> <span class="n">mySet</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&quot;dog&quot;</span> <span class="ow">in</span> <span class="n">mySet</span>
<span class="go">False</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Sets support a number of methods that should be familiar to those who
have worked with them in a mathematics setting. <a class="reference internal" href="#tab-setmethods"><em>Table&nbsp;6</em></a>
provides a summary. Examples of their use follow. Note that <tt class="docutils literal"><span class="pre">union</span></tt>,
<tt class="docutils literal"><span class="pre">intersection</span></tt>, <tt class="docutils literal"><span class="pre">issubset</span></tt>, and <tt class="docutils literal"><span class="pre">difference</span></tt> all have operators
that can be used as well.</p>
<table border="1" class="docutils" id="tab-setmethods">
<colgroup>
<col width="20%" />
<col width="27%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">union</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.union(otherset)</span></tt></td>
<td>Returns a new set with all elements from both sets</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">intersection</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.intersection(otherset)</span></tt></td>
<td>Returns a new set with only those elements common to both sets</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">difference</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.difference(otherset)</span></tt></td>
<td>Returns a new set with all items from first set not in second</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">issubset</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.issubset(otherset)</span></tt></td>
<td>Asks whether all elements of one set are in the other</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">add</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.add(item)</span></tt></td>
<td>Adds item to the set</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">remove</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.remove(item)</span></tt></td>
<td>Removes item from the set</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">pop</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.pop()</span></tt></td>
<td>Removes an arbitrary element from the set</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">clear</span></tt></td>
<td><tt class="docutils literal"><span class="pre">aset.clear()</span></tt></td>
<td>Removes all elements from the set</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Methods Provided by Sets in Python</div></blockquote>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{False, 4.5, 3, 6, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">yourSet</span> <span class="o">=</span> <span class="p">{</span><span class="mi">99</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">yourSet</span><span class="p">)</span>
<span class="go">{False, 4.5, 3, 100, 6, &#39;cat&#39;, 99}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span> <span class="o">|</span> <span class="n">yourSet</span>
<span class="go">{False, 4.5, 3, 100, 6, &#39;cat&#39;, 99}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">yourSet</span><span class="p">)</span>
<span class="go">{3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span> <span class="o">&amp;</span> <span class="n">yourSet</span>
<span class="go">{3}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">yourSet</span><span class="p">)</span>
<span class="go">{False, 4.5, 6, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span> <span class="o">-</span> <span class="n">yourSet</span>
<span class="go">{False, 4.5, 6, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">}</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">yourSet</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">100</span><span class="p">}</span><span class="o">&lt;=</span><span class="n">yourSet</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;house&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{False, 4.5, 3, 6, &#39;house&#39;, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mf">4.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{False, 3, 6, &#39;house&#39;, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">{3, 6, &#39;house&#39;, &#39;cat&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mySet</span>
<span class="go">set()</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Our final Python collection is an unordered structure called a
<strong>dictionary</strong>. Dictionaries are collections of associated pairs of
items where each pair consists of a key and a value. This key-value pair
is typically written as key:value. Dictionaries are written as
comma-delimited key:value pairs enclosed in curly braces. For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">capitals</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Iowa&#39;</span><span class="p">:</span><span class="s">&#39;DesMoines&#39;</span><span class="p">,</span><span class="s">&#39;Wisconsin&#39;</span><span class="p">:</span><span class="s">&#39;Madison&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">capitals</span>
<span class="go">{&#39;Wisconsin&#39;: &#39;Madison&#39;, &#39;Iowa&#39;: &#39;DesMoines&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>We can manipulate a dictionary by accessing a value via its key or by
adding another key-value pair. The syntax for access looks much like a
sequence access except that instead of using the index of the item we
use the key value. To add a new value is similar.</p>

<div id="intro_7" >
<textarea cols="50" rows="12" id="intro_7_code" class="active_code">
capitals = {'Iowa':'DesMoines','Wisconsin':'Madison'}
print(capitals['Iowa'])
capitals['Utah']='SaltLakeCity'
print(capitals)
capitals['California']='Sacramento'
print(len(capitals))
for k in capitals:
   print(capitals[k]," is the capital of ", k)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_7)</span> </p>
<button onclick="runit('intro_7',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_7');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_7');">Load</button>
<br />

<canvas id="intro_7_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_7_pre" class="active_out">

</pre>

</div>

<p>It is important to note that the dictionary is maintained in no
particular order with respect to the keys. The first pair added
(<tt class="docutils literal"><span class="pre">'Utah':</span></tt> <tt class="docutils literal"><span class="pre">'SaltLakeCity'</span></tt>) was placed first in the dictionary and
the second pair added (<tt class="docutils literal"><span class="pre">'California':</span></tt> <tt class="docutils literal"><span class="pre">'Sacramento'</span></tt>) was placed
last. The placement of a key is dependent on the idea of “hashing,”
which will be explained in more detail in Chapter 4. We also show the
length function performing the same role as with previous collections.</p>
<p>Dictionaries have both methods and operators. <a class="reference internal" href="#tab-dictopers"><em>Table&nbsp;x</em></a> and
<a class="reference internal" href="#tab-dictmethods"><em>Table x</em></a> describe them, and the sessions shows them in action. The
<tt class="docutils literal"><span class="pre">keys</span></tt>, <tt class="docutils literal"><span class="pre">values</span></tt>, and <tt class="docutils literal"><span class="pre">items</span></tt> methods all return objects that
contain the values of interest. You can use the <tt class="docutils literal"><span class="pre">list</span></tt> function to
convert them to lists. You will also see that there are two variations
on the <tt class="docutils literal"><span class="pre">get</span></tt> method. If the key is not present in the dictionary,
<tt class="docutils literal"><span class="pre">get</span></tt> will return <tt class="docutils literal"><span class="pre">None</span></tt>. However, a second, optional parameter can
specify a return value instead.</p>
<table border="1" class="docutils" id="tab-dictopers">
<colgroup>
<col width="19%" />
<col width="17%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Operator</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">[]</span></tt></td>
<td><tt class="docutils literal"><span class="pre">myDict[k]</span></tt></td>
<td>Returns the value associated with <tt class="docutils literal"><span class="pre">k</span></tt>, otherwise its an error</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">in</span></tt></td>
<td><tt class="docutils literal"><span class="pre">key</span> <span class="pre">in</span> <span class="pre">adict</span></tt></td>
<td>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if key is in the   dictionary, <tt class="docutils literal"><span class="pre">False</span></tt> otherwise</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">del</span></tt></td>
<td>del <tt class="docutils literal"><span class="pre">adict[key]</span></tt></td>
<td>Removes the entry from the  dictionary</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Operators Provided by Dictionaries in Python</div></blockquote>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;david&#39;</span><span class="p">:</span><span class="mi">1410</span><span class="p">,</span><span class="s">&#39;brad&#39;</span><span class="p">:</span><span class="mi">1137</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span>
<span class="go">{&#39;brad&#39;: 1137, &#39;david&#39;: 1410}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">dict_keys([&#39;brad&#39;, &#39;david&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">phoneext</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;brad&#39;, &#39;david&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">dict_values([1137, 1410])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">phoneext</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="go">[1137, 1410]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="go">dict_items([(&#39;brad&#39;, 1137), (&#39;david&#39;, 1410)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">phoneext</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;brad&#39;, 1137), (&#39;david&#39;, 1410)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;kent&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phoneext</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;kent&quot;</span><span class="p">,</span><span class="s">&quot;NO ENTRY&quot;</span><span class="p">)</span>
<span class="go">&#39;NO ENTRY&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<table border="1" class="docutils" id="tab-dictmethods">
<colgroup>
<col width="22%" />
<col width="19%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Method Name</strong></th>
<th class="head"><strong>Use</strong></th>
<th class="head"><strong>Explanation</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">keys</span></tt></td>
<td><tt class="docutils literal"><span class="pre">adict.keys()</span></tt></td>
<td>Returns the keys of the dictionary in a dict_keys object</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">values</span></tt></td>
<td><tt class="docutils literal"><span class="pre">adict.values()</span></tt></td>
<td>Returns the values of the dictionary in a dict_values object</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">items</span></tt></td>
<td><tt class="docutils literal"><span class="pre">adict.items()</span></tt></td>
<td>Returns the key-value pairs in a dict_items object</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">get</span></tt></td>
<td><tt class="docutils literal"><span class="pre">adict.get(k)</span></tt></td>
<td>Returns the value associated with <tt class="docutils literal"><span class="pre">k</span></tt>, <tt class="docutils literal"><span class="pre">None</span></tt> otherwise</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">get</span></tt></td>
<td><tt class="docutils literal"><span class="pre">adict.get(k,alt)</span></tt></td>
<td>Returns the value associated with <tt class="docutils literal"><span class="pre">k</span></tt>, <tt class="docutils literal"><span class="pre">alt</span></tt> otherwise</td>
</tr>
</tbody>
</table>
<blockquote>
<div>{Methods Provided by Dictionaries in Python} {dictmethods}</div></blockquote>

<button id="butt_scratch_test" onclick="createActiveCode('scratch_test',''); $('#butt_scratch_test').hide();">Open Editor</button>
<div id="scratch_test"></div>
<br />
</div>
</div>
<div class="section" id="input-and-output">
<h3>Input and Output<a class="headerlink" href="#input-and-output" title="Permalink to this headline">¶</a></h3>
<p>We often have a need to interact with users,
either to get data or to provide some sort of result. Most programs
today use a dialog bcox as a way of asking the user to provide some type
of input. While Python does have a way to create dialog boxes, there is
a much simpler function that we can use. Python provides us with a
function that allows us to ask a user to enter some data and returns a
reference to the data in the form of a string. The function is called
<tt class="docutils literal"><span class="pre">input</span></tt>.</p>
<p>Python’s input function takes a single parameter that is a string. This
string is often called the {<strong>prompt</strong>} because it contains some helpful
text prompting the user to enter something. For example, you might call
input as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">aName</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">&#39;Please enter your name: &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now whatever the user types after the prompt will be stored in the
<tt class="docutils literal"><span class="pre">aName</span></tt> variable. Using the input function, we can easily write
instructions that will prompt the user to enter data and then
incorporate that data into further processing. For example, in the
following two statements, the first asks the user for their name and the
second prints the result of some simple processing based on the string
that is provided.</p>

<div id="strstuff" >
<textarea cols="50" rows="12" id="strstuff_code" class="active_code">
aName = input("Please enter your name ")
print("Your name in all capitals is ",aName.upper(),
      "and has length", len(aName))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (strstuff)</span> </p>
<button onclick="runit('strstuff',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('strstuff');">Save</button>
<button class="ac_opt" onclick="requestCode('strstuff');">Load</button>
<br />

<canvas id="strstuff_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="strstuff_pre" class="active_out">

</pre>

</div>

<p>It is important to note that the value returned from the <tt class="docutils literal"><span class="pre">input</span></tt>
function will be a string representing the exact characters that were
entered after the prompt. If you want this string interpreted as another
type, you must provide the type conversion explicitly. In the statements
below, the string that is entered by the user is converted to a float so
that it can be used in further arithmetic processing.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sradius</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">&quot;Please enter the radius of the circle &quot;</span><span class="p">)</span>
<span class="n">radius</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sradius</span><span class="p">)</span>
<span class="n">diameter</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">radius</span>
</pre></div>
</div>
<div class="section" id="string-formatting">
<h4>String Formatting<a class="headerlink" href="#string-formatting" title="Permalink to this headline">¶</a></h4>
<p>We have already seen that the <tt class="docutils literal"><span class="pre">print</span></tt>
function provides a very simple way to output values from a Python
program. <tt class="docutils literal"><span class="pre">print</span></tt> takes zero or more parameters and displays them using
a single blank as the default separator. It is possible to change the
separator character by setting the <tt class="docutils literal"><span class="pre">sep</span></tt> argument. In addition, each
print ends with a newline character by default. This behavior can be
changed by setting the <tt class="docutils literal"><span class="pre">end</span></tt> argument. These variations are shown in
the following session:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
<span class="go">Hello</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="s">&quot;World&quot;</span><span class="p">)</span>
<span class="go">Hello World</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="s">&quot;World&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&quot;***&quot;</span><span class="p">)</span>
<span class="go">Hello***World</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">,</span><span class="s">&quot;World&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&quot;***&quot;</span><span class="p">)</span>
<span class="go">Hello World***&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>It is often useful to have more control over the look of your output.
Fortunately, Python provides us with an alternative called <strong>formatted
strings</strong>. A formatted string is a template in which words or spaces
that will remain constant are combined with placeholders for variables
that will be inserted into the string. For example, the statement</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="n">aName</span><span class="p">,</span> <span class="s">&quot;is&quot;</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="s">&quot;years old.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>contains the words <tt class="docutils literal"><span class="pre">is</span></tt> and <tt class="docutils literal"><span class="pre">years</span> <span class="pre">old</span></tt>, but the name and the age
will change depending on the variable values at the time of execution.
Using a formatted string, we write the previous statement as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s"> is </span><span class="si">%d</span><span class="s"> years old.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">aName</span><span class="p">,</span> <span class="n">age</span><span class="p">))</span>
</pre></div>
</div>
<p>This simple example illustrates a new string expression. The <tt class="docutils literal"><span class="pre">%</span></tt>
operator is a string operator called the <strong>format operator</strong>. The left
side of the expression holds the template or format string, and the
right side holds a collection of values that will be substituted into
the format string. Note that the number of values in the collection on
the right side corresponds with the number of <tt class="docutils literal"><span class="pre">%</span></tt> characters in the
format string. Values are taken—in order, left to right—from the
collection and inserted into the format string.</p>
<p>Let’s look at both sides of this formatting expression in more detail.
The format string may contain one or more conversion specifications. A
conversion character tells the format operator what type of value is
going to be inserted into that position in the string. In the example
above, the <tt class="docutils literal"><span class="pre">%s</span></tt> specifies a string, while the <tt class="docutils literal"><span class="pre">%d</span></tt> specifies an
integer. Other possible type specifications include <tt class="docutils literal"><span class="pre">i</span></tt>, <tt class="docutils literal"><span class="pre">u</span></tt>, <tt class="docutils literal"><span class="pre">f</span></tt>,
<tt class="docutils literal"><span class="pre">e</span></tt>, <tt class="docutils literal"><span class="pre">g</span></tt>, <tt class="docutils literal"><span class="pre">c</span></tt>, or <tt class="docutils literal"><span class="pre">%</span></tt>. <a class="reference internal" href="#tab-fmta"><em>Table&nbsp;7</em></a> summarizes all of the
various type specifications.</p>
<table border="1" class="docutils" id="tab-fmta">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Character</strong></th>
<th class="head"><strong>Output Format</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">d</span></tt>,``i``</td>
<td>Integer</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">u</span></tt></td>
<td>Unsigned integer</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">f</span></tt></td>
<td>Floating point as m.ddddd</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">e</span></tt></td>
<td>Floating point as m.ddddde+/-xx</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">E</span></tt></td>
<td>Floating point as m.dddddE+/-xx</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">g</span></tt></td>
<td>Use <tt class="docutils literal"><span class="pre">%e</span></tt> for exponents less than <span class="math">\(-4\)</span> or greater than <span class="math">\(+5\)</span>, otherwise use <tt class="docutils literal"><span class="pre">%f</span></tt></td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">c</span></tt></td>
<td>Single character</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s</span></tt></td>
<td>String, or any Python data object that can be converted to a string by using the <tt class="docutils literal"><span class="pre">str</span></tt> function.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">%</span></tt></td>
<td>Insert a literal % character</td>
</tr>
</tbody>
</table>
<blockquote>
<div>String Formatting Conversion Characters</div></blockquote>
<p>In addition to the format character, you can also include a format
modifier between the <tt class="docutils literal"><span class="pre">%</span></tt> and the format character. Format modifiers may
be used to left-justify or right-justifiy the value with a specified
field width. Modifiers can also be used to specify the field width along
with a number of digits after the decimal point. <a class="reference internal" href="#tab-fmtaddsa"><em>Table&nbsp;8</em></a>
explains these format modifiers</p>
<table border="1" class="docutils" id="tab-fmtaddsa">
<colgroup>
<col width="18%" />
<col width="10%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><strong>Modifier</strong></th>
<th class="head"><strong>Example</strong></th>
<th class="head"><strong>Description</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>number</td>
<td><tt class="docutils literal"><span class="pre">%20d</span></tt></td>
<td>Put the value in a field width of 20</td>
</tr>
<tr class="row-odd"><td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><tt class="docutils literal"><span class="pre">%-20d</span></tt></td>
<td>Put the value in a field 20 characters wide, left-justified</td>
</tr>
<tr class="row-even"><td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><tt class="docutils literal"><span class="pre">%+20d</span></tt></td>
<td>Put the value in a field 20 characters wide, right-justified</td>
</tr>
<tr class="row-odd"><td>0</td>
<td><tt class="docutils literal"><span class="pre">%020d</span></tt></td>
<td>Put the value in a field 20 characters wide, fill in with leading zeros.</td>
</tr>
<tr class="row-even"><td>.</td>
<td><tt class="docutils literal"><span class="pre">%20.2f</span></tt></td>
<td>Put the value in a field 20 characters wide with 2 characters to the right of the decimal point.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">(name)</span></tt></td>
<td><tt class="docutils literal"><span class="pre">%(name)d</span></tt></td>
<td>Get the value from the supplied dictionary using <tt class="docutils literal"><span class="pre">name</span></tt> as the key.</td>
</tr>
</tbody>
</table>
<blockquote>
<div>Additional formatting options</div></blockquote>
<p>The right side of the format operator is a collection of values that
will be inserted into the format string. The collection will be either a
tuple or a dictionary. If the collection is a tuple, the values are
inserted in order of position. That is, the first element in the tuple
corresponds to the first format character in the format string. If the
collection is a dictionary, the values are inserted according to their
keys. In this case all format characters must use the <tt class="docutils literal"><span class="pre">(name)</span></tt>
modifier to specify the name of the key.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">price</span> <span class="o">=</span> <span class="mi">24</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="s">&quot;banana&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">%s</span><span class="s"> costs </span><span class="si">%d</span><span class="s"> cents&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">price</span><span class="p">))</span>
<span class="go">The banana costs 24 cents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">%+10s</span><span class="s"> costs </span><span class="si">%5.2f</span><span class="s"> cents&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">price</span><span class="p">))</span>
<span class="go">The     banana costs 24.00 cents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">%+10s</span><span class="s"> costs </span><span class="si">%10.2f</span><span class="s"> cents&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">item</span><span class="p">,</span><span class="n">price</span><span class="p">))</span>
<span class="go">The     banana costs      24.00 cents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">itemdict</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;item&quot;</span><span class="p">:</span><span class="s">&quot;banana&quot;</span><span class="p">,</span><span class="s">&quot;cost&quot;</span><span class="p">:</span><span class="mi">24</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">%(item)s</span><span class="s"> costs </span><span class="si">%(cost)7.1f</span><span class="s"> cents&quot;</span><span class="o">%</span><span class="n">itemdict</span><span class="p">)</span>
<span class="go">The banana costs    24.0 cents</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>In addition to format strings that use format characters and format
modifiers, Python strings also include a <tt class="docutils literal"><span class="pre">format</span></tt> method that can be
used in conjunction with a new <tt class="docutils literal"><span class="pre">Formatter</span></tt> class to implement complex
string formatting. More about these features can be found in the Python
library reference manual.</p>
</div>
</div>
<div class="section" id="control-structures">
<h3>Control Structures<a class="headerlink" href="#control-structures" title="Permalink to this headline">¶</a></h3>
<p>As we noted earlier, algorithms require two important control
structures: iteration and selection. Both of these are supported by
Python in various forms. The programmer can choose the statement that is
most useful for the given circumstance.</p>
<p>For iteration, Python provides a standard <tt class="docutils literal"><span class="pre">while</span></tt> statement and a very
powerful <tt class="docutils literal"><span class="pre">for</span></tt> statement. The while statement repeats a body of code
as long as a condition is true. For example,</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">counter</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">counter</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span>


<span class="go">Hello, world</span>
<span class="go">Hello, world</span>
<span class="go">Hello, world</span>
<span class="go">Hello, world</span>
<span class="go">Hello, world</span>
</pre></div>
</td></tr></table></div>
<p>prints out the phrase “Hello, world” five times. The condition on the
<tt class="docutils literal"><span class="pre">while</span></tt> statement is evaluated at the start of each repetition. If the
condition is <tt class="docutils literal"><span class="pre">True</span></tt>, the body of the statement will execute. It is
easy to see the structure of a Python <tt class="docutils literal"><span class="pre">while</span></tt> statement due to the
mandatory indentation pattern that the language enforces.</p>
<p>The <tt class="docutils literal"><span class="pre">while</span></tt> statement is a very general purpose iterative structure
that we will use in a number of different algorithms. In many cases, a
compound condition will control the iteration. A fragment such as</p>
<div class="highlight-python"><pre>while counter &lt;= 10 and not done:
...</pre>
</div>
<p>would cause the body of the statement to be executed only in the case
where both parts of the condition are satisfied. The value of the
variable <tt class="docutils literal"><span class="pre">counter</span></tt> would need to be less than or equal to 10 and the
value of the variable <tt class="docutils literal"><span class="pre">done</span></tt> would need to be <tt class="docutils literal"><span class="pre">False</span></tt> (<tt class="docutils literal"><span class="pre">not</span> <span class="pre">False</span></tt>
is <tt class="docutils literal"><span class="pre">True</span></tt>) so that <tt class="docutils literal"><span class="pre">True</span> <span class="pre">and</span> <span class="pre">True</span></tt> results in <tt class="docutils literal"><span class="pre">True</span></tt>.</p>
<p>Even though this type of construct is very useful in a wide variety of
situations, another iterative structure, the <tt class="docutils literal"><span class="pre">for</span></tt> statement, can be
used in conjunction with many of the Python collections. The <tt class="docutils literal"><span class="pre">for</span></tt>
statement can be used to iterate over the members of a collection, so
long as the collection is a sequence. So, for example,</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">]:</span>
<span class="gp">... </span>   <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">6</span>
<span class="go">2</span>
<span class="go">5</span>
</pre></div>
</td></tr></table></div>
<p>assigns the variable <tt class="docutils literal"><span class="pre">item</span></tt> to be each successive value in the list
[1,3,6,2,5]. The body of the iteration is then executed. This works for
any collection that is a sequence (lists, tuples, and strings).</p>
<p>A common use of the <tt class="docutils literal"><span class="pre">for</span></tt> statement is to implement definite iteration
over a range of values. The statement</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">0</span>
<span class="go">1</span>
<span class="go">4</span>
<span class="go">9</span>
<span class="go">16</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>will perform the <tt class="docutils literal"><span class="pre">print</span></tt> function five times. The <tt class="docutils literal"><span class="pre">range</span></tt> function
will return a range object representing the sequence 0,1,2,3,4 and each
value will be assigned to the variable <tt class="docutils literal"><span class="pre">item</span></tt>. This value is then
squared and printed.</p>
<p>The other very useful version of this iteration structure is used to
process each character of a string. The following code fragment iterates
over a list of strings and for each string processes each character by
appending it to a list. The result is a list of all the letters in all
of the words.</p>

<div id="intro_8" >
<textarea cols="50" rows="12" id="intro_8_code" class="active_code">
wordlist = ['cat','dog','rabbit']
letterlist = [ ]
for aword in wordlist:
    for aletter in aword:
        letterlist.append(aletter)
print(letterlist)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (intro_8)</span> </p>
<button onclick="runit('intro_8',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('intro_8');">Save</button>
<button class="ac_opt" onclick="requestCode('intro_8');">Load</button>
<br />

<canvas id="intro_8_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="intro_8_pre" class="active_out">

</pre>

</div>

<p>Selection statements allow programmers to ask questions and then, based
on the result, perform different actions. Most programming languages
provide two versions of this useful construct: the <tt class="docutils literal"><span class="pre">ifelse</span></tt> and the
<tt class="docutils literal"><span class="pre">if</span></tt>. A simple example of a binary selection uses the <tt class="docutils literal"><span class="pre">ifelse</span></tt>
statement.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&quot;Sorry, value is negative&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>In this example, the object referred to by <tt class="docutils literal"><span class="pre">n</span></tt> is checked to see if it
is less than zero. If it is, a message is printed stating that it is
negative. If it is not, the statement performs the <tt class="docutils literal"><span class="pre">else</span></tt> clause and
computes the square root.</p>
<p>Selection constructs, as with any control construct, can be nested so
that the result of one question helps decide whether to ask the next.
For example, assume that <tt class="docutils literal"><span class="pre">score</span></tt> is a variable holding a reference to
a score for a computer science test.</p>
<div class="highlight-python"><pre>if score &gt;= 90:
   print('A')
else:
   if score &gt;=80:
      print('B')
   else
      if score &gt;= 70:
         print('C')
      else:
         if score &gt;= 60:
            print('D')
         else:
            print('F')</pre>
</div>
<p>This fragment will classify a value called <tt class="docutils literal"><span class="pre">score</span></tt> by printing the
letter grade earned. If the score is greater than or equal to 90, the
statement will print <tt class="docutils literal"><span class="pre">A</span></tt>. If it is not (<tt class="docutils literal"><span class="pre">else</span></tt>), the next question
is asked. If the score is greater than or equal to 80 then it must be
between 80 and 89 since the answer to the first question was false. In
this case print <tt class="docutils literal"><span class="pre">B</span></tt> is printed. You can see that the Python
indentation pattern helps to make sense of the association between
<tt class="docutils literal"><span class="pre">if</span></tt> and <tt class="docutils literal"><span class="pre">else</span></tt> without requiring any additional syntactic elements.</p>
<p>An alternative syntax for this type of nested selection uses the
<tt class="docutils literal"><span class="pre">elif</span></tt> keyword. The <tt class="docutils literal"><span class="pre">else</span></tt> and the next <tt class="docutils literal"><span class="pre">if</span></tt> are combined so as to
eliminate the need for additional nesting levels. Note that the final
<tt class="docutils literal"><span class="pre">else</span></tt> is still necessary to provide the default case if all other
conditions fail.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">if</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">90</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&#39;A&#39;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">score</span> <span class="o">&gt;=</span><span class="mi">80</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">70</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&#39;C&#39;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">score</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&#39;D&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span><span class="p">(</span><span class="s">&#39;F&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Python also has a single way selection construct, the <tt class="docutils literal"><span class="pre">if</span></tt> statement.
With this statement, if the condition is true, an action is performed.
In the case where the condition is false, processing simply continues on
to the next statement after the <tt class="docutils literal"><span class="pre">if</span></tt>. For example, the following
fragment will first check to see if the value of a variable <tt class="docutils literal"><span class="pre">n</span></tt> is
negative. If it is, then it is modified by the absolute value function.
Regardless, the next action is to compute the square root.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">n</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
   <span class="n">n</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>
<p>Test your understanding of what we have covered so far by trying the following
exercise.  Modify the code from activecode_7 so that the final list only contains
a single copy of each letter.</p>
<div class="last">
<div id="self_check_1" >
<textarea cols="50" rows="12" id="self_check_1_code" class="active_code">
# the answer is: ['c', 'a', 't', 'd', 'o', 'g', 'r', 'b', 'i']

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (self_check_1)</span> </p>
<button onclick="runit('self_check_1',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('self_check_1');">Save</button>
<button class="ac_opt" onclick="requestCode('self_check_1');">Load</button>
<br />

<canvas id="self_check_1_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="self_check_1_pre" class="active_out">

</pre>

</div>

</div></div>
<a id="list_unique_thumb" > <img src="_static/videothumb.png" /></a>
<div id="list_unique" class="video_popup" >
<video controls  >
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/list_unique.mov" type="video/mp4"></source>
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/list_unique.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#list_unique_thumb').click(function(e) {
         $('#list_unique').show();
         $('#list_unique_thumb').hide();
         jQuery.get("/hsblog",{'event':'video','act':'play','div_id': 'list_unique'});
         // Log the run event
      });
   });
</script>
<p>Returning to lists, there is an alternative method for creating a list
that uses iteration and selection constructs. The is known as a <strong>list
comprehension</strong>. A list comprehension allows you to easily create a list
based on some processing or selection criteria. For example, if we would
like to create a list of the first 10 perfect squares, we could use a
<tt class="docutils literal"><span class="pre">for</span></tt> statement:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span><span class="o">=</span><span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
<span class="go">         sqlist.append(x*x)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>Using a list comprehension, we can do this in one step as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span>
<span class="go">[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>The variable <tt class="docutils literal"><span class="pre">x</span></tt> takes on the values 1 through 10 as specified by the
<tt class="docutils literal"><span class="pre">for</span></tt> construct. The value of <tt class="docutils literal"><span class="pre">x*x</span></tt> is then computed and added to
the list that is being constructed. The general syntax for a list
comprehension also allows a selection criteria to be added so that only
certain items get added. For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqlist</span>
<span class="go">[1, 9, 25, 49, 81]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>This list comprehension constructed a list that only contained the
squares of the odd numbers in the range from 1 to 10. Any sequence that
supports iteration can be used within a list comprehension to construct
a new list.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;[ch.upper() for ch in &#39;comprehension&#39; if ch not in &#39;aeiou&#39;]</span>
<span class="go">[&#39;C&#39;, &#39;M&#39;, &#39;P&#39;, &#39;R&#39;, &#39;H&#39;, &#39;N&#39;, &#39;S&#39;, &#39;N&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>
<p>Test your understanding of list comprehensions by redoing activecode 7
using list comprehensions.  For extra bonus points see if you can figure out
how to remove the duplicates using comprehensions too.</p>
<div class="last">
<div id="self_check_2" >
<textarea cols="50" rows="12" id="self_check_2_code" class="active_code">
# the answer is: ['c', 'a', 't', 'd', 'o', 'g', 'r', 'a', 'b', 'b', 'i', 't']

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (self_check_2)</span> </p>
<button onclick="runit('self_check_2',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('self_check_2');">Save</button>
<button class="ac_opt" onclick="requestCode('self_check_2');">Load</button>
<br />

<canvas id="self_check_2_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="self_check_2_pre" class="active_out">

</pre>

</div>

</div></div>
<a id="listcomp_thumb" > <img src="_static/videothumb.png" /></a>
<div id="listcomp" class="video_popup" >
<video controls  >
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/listcomp.mov" type="video/mp4"></source>
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/listcomp.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#listcomp_thumb').click(function(e) {
         $('#listcomp').show();
         $('#listcomp_thumb').hide();
         jQuery.get("/hsblog",{'event':'video','act':'play','div_id': 'listcomp'});
         // Log the run event
      });
   });
</script>
</div>
<div class="section" id="exception-handling">
<h3>Exception Handling<a class="headerlink" href="#exception-handling" title="Permalink to this headline">¶</a></h3>
<p>There are two types of errors that typically occur when writing
programs. The first, known as a syntax error, simply means that the
programmer has made a mistake in the structure of a statement or
expression. For example, it is incorrect to write a for statement and
forget the colon.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">SyntaxError: invalid syntax (&lt;pyshell#61&gt;, line 1)</span>
</pre></div>
</div>
<p>In this case, the Python interpreter has found that it cannot complete
the processing of this instruction since it does not conform to the
rules of the language. Syntax errors are usually more frequent when you
are first learning a language.</p>
<p>The other type of error, known as a logic error, denotes a situation
where the program executes but gives the wrong result. This can be due
to an error in the underlying algorithm or an error in your translation
of that algorithm. In some cases, logic errors lead to very bad
situations such as trying to divide by zero or trying to access an item
in a list where the index of the item is outside the bounds of the list.
In this case, the logic error leads to a runtime error that causes the
program to terminate. These types of runtime errors are typically called
<strong>exceptions</strong>.</p>
<p>Most of the time, beginning programmers simply think of exceptions as
fatal runtime errors that cause the end of execution. However, most
programming languages provide a way to deal with these errors that will
allow the programmer to have some type of intervention if they so
choose. In addition, programmers can create their own exceptions if they
detect a situation in the program execution that warrants it.</p>
<p>When an exception occurs, we say that it has been “raised.” You can
“handle” the exception that has been raised by using a <tt class="docutils literal"><span class="pre">try</span></tt>
statement. For example, consider the following session that asks the
user for an integer and then calls the square root function from the
math library. If the user enters a value that is greater than or equal
to 0, the print will show the square root. However, if the user enters a
negative value, the square root function will report a <tt class="docutils literal"><span class="pre">ValueError</span></tt>
exception.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">anumber</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">&quot;Please enter an integer &quot;</span><span class="p">))</span>
<span class="go">Please enter an integer -23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">anumber</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#102&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
    <span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">anumber</span><span class="p">))</span>
<span class="gr">ValueError</span>: <span class="n">math domain error</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>We can handle this exception by calling the print function from within a
<tt class="docutils literal"><span class="pre">try</span></tt> block. A corresponding <tt class="docutils literal"><span class="pre">except</span></tt> block “catches” the exception
and prints a message back to the user in the event that an exception
occurs. For example:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="go">       print(math.sqrt(anumber))</span>
<span class="go">    except:</span>
<span class="go">       print(&quot;Bad Value for square root&quot;)</span>
<span class="go">       print(&quot;Using absolute value instead&quot;)</span>
<span class="go">       print(math.sqrt(abs(anumber)))</span>

<span class="go">Bad Value for square root</span>
<span class="go">Using absolute value instead</span>
<span class="go">4.79583152331</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>will catch the fact that an exception is raised by <tt class="docutils literal"><span class="pre">sqrt</span></tt> and will
instead print the messages back to the user and use the absolute value
to be sure that we are taking the square root of a non-negative number.
This means that the program will not terminate but instead will continue
on to the next statements.</p>
<p>It is also possible for a programmer to cause a runtime exception by
using the <tt class="docutils literal"><span class="pre">raise</span></tt> statement. For example, instead of calling the
square root function with a negative number, we could have checked the
value first and then raised our own exception. The code fragment below
shows the result of creating a new <tt class="docutils literal"><span class="pre">RuntimeError</span></tt> exception. Note that
the program would still terminate but now the exception that caused the
termination is something explicitly created by the programmer.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">anumber</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">&quot;You can&#39;t use a negative number&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">anumber</span><span class="p">))</span>
<span class="gp">...</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">2</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">RuntimeError</span>: <span class="n">You can&#39;t use a negative number</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>There are many kinds of exceptions that can be raised in addition to the
<tt class="docutils literal"><span class="pre">RuntimeError</span></tt> shown above. See the Python reference manual for a list
of all the available exception types, and for how to create your own.</p>
</div>
<div class="section" id="defining-functions">
<h3>Defining Functions<a class="headerlink" href="#defining-functions" title="Permalink to this headline">¶</a></h3>
<p>The earlier example of procedural abstraction called upon a Python
function called <tt class="docutils literal"><span class="pre">sqrt</span></tt> from the math module to compute the square
root. In general, we can hide the details of any computation by defining
a function. A function definition requires a name, a group of
parameters, and a body. It may also explicitly return a value. For
example, the simple function defined below returns the square of the
value you pass into it.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">return</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">9</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">square</span><span class="p">(</span><span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">81</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The syntax for this function definition includes the name, <tt class="docutils literal"><span class="pre">square</span></tt>,
and a parenthesized list of formal parameters. For this function, <tt class="docutils literal"><span class="pre">n</span></tt>
is the only formal parameter, which suggests that <tt class="docutils literal"><span class="pre">square</span></tt> needs only
one piece of data to do its work. The details, hidden “inside the box,”
simply compute the result of <tt class="docutils literal"><span class="pre">n**2</span></tt> and return it. We can invoke or
call the <tt class="docutils literal"><span class="pre">square</span></tt> function by asking the Python environment to
evaluate it, passing an actual parameter value, in this case, <tt class="docutils literal"><span class="pre">3</span></tt>.
Note that the call to <tt class="docutils literal"><span class="pre">square</span></tt> returns an integer that can in turn be
passed to another invocation.</p>
<p>We could implement our own square root function by using a well-known
technique called “Newton’s Method.” Newton’s Method for approximating
square roots performs an iterative computation that converges on the
correct value. The equation
<span class="math">\(newguess = \frac {1}{2} * (oldguess + \frac {n}{oldguess})\)</span>
takes a value <span class="math">\(n\)</span> and repeatedly guesses the square root by
making each <span class="math">\(newguess\)</span> the <span class="math">\(oldguess\)</span> in the subsequent
iteration. The initial guess used here is <span class="math">\(\frac {n}{2}\)</span>.
<a class="reference internal" href="#lst-root"><em>Listing 1</em></a> shows a function definition that accepts a value
<span class="math">\(n\)</span> and returns the square root of <span class="math">\(n\)</span> after making 20
guesses. Again, the details of Newton’s Method are hidden inside the
function definition and the user does not have to know anything about
the implementation to use the function for its intended purpose.
<a class="reference internal" href="#lst-root"><em>Listing 1</em></a> also shows the use of the # character as a comment
marker. Any characters that follow the # on a line are ignored.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;squareroot(9)</span>
<span class="go">3.0</span>
<span class="go">&gt;&gt;&gt;squareroot(4563)</span>
<span class="go">67.549981495186216</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python" id="lst-root"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">squareroot</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">n</span><span class="o">/</span><span class="mi">2</span>    <span class="c">#initial guess will be 1/2 of n</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="n">root</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">root</span> <span class="o">+</span> <span class="p">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">root</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">root</span>
</pre></div>
</td></tr></table></div>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>
<p>Here&#8217;s a self check that really covers everything so far.  You may have
heard of the infinite monkey theorem?  The theorem states that a monkey hitting keys at random on a typewriter keyboard for an infinite amount of time will almost surely type a given text, such as the complete works of William Shakespeare.  Well, suppose we replace a monkey with a Python function.  How long do you think it would take for a Python function to generate just one sentence of Shakespeare?  The sentence we&#8217;ll shoot for is:  &#8220;methinks it is like a weasel&#8221;</p>
<p>You&#8217;re not going to want to run this one in the browser, so fire up your favorite Python IDE.  The way we&#8217;ll simulate this is to write a function that generates a string that is 27 characters long by choosing random letters from the 26 letters in the alphabet plus the space.  We&#8217;ll write another function that will score each generated string by comparing the randomly generated string to the goal.</p>
<p class="last">A third function will repeatedly call generate and score, then if 100% of the letters are correct we are done.  If the letters are not correct then we will generate a whole new string.To make it easier to follow your program&#8217;s progress this third function should print out the best string generated so far and its score every 1000 tries.</p>
</div>
<div class="admonition-self-check-challenge admonition">
<p class="first admonition-title">Self Check Challenge</p>
<p class="last">See if you can improve upon the program in the self check by keeping letters that are correct and only modifying one character in the best string so far.  This is a type of algorithm in the class of &#8216;hill climbing&#8217; algorithms, that is we only keep the result if it is better than the previous one.</p>
</div>
<a id="monkeyvid_thumb" > <img src="_static/videothumb.png" /></a>
<div id="monkeyvid" class="video_popup" >
<video controls  >
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/monkeys.mov" type="video/mp4"></source>
    <source src="http://knuth.luther.edu/~pythonworks/pythondsVideos/monkeys.webm" type="video/webm"></source>
    No supported video types
</video>
</div>
<script>
   jQuery(function($) {
      $('#monkeyvid_thumb').click(function(e) {
         $('#monkeyvid').show();
         $('#monkeyvid_thumb').hide();
         jQuery.get("/hsblog",{'event':'video','act':'play','div_id': 'monkeyvid'});
         // Log the run event
      });
   });
</script>
</div>
<div class="section" id="object-oriented-programming-in-python-defining-classes">
<h3>Object-Oriented Programming in Python: Defining Classes<a class="headerlink" href="#object-oriented-programming-in-python-defining-classes" title="Permalink to this headline">¶</a></h3>
<p>We stated earlier that Python is an object-oriented programming
language. So far, we have used a number of built-in classes to show
examples of data and control structures. One of the most powerful
features in an object-oriented programming language is the ability to
allow a programmer (problem solver) to create new classes that model
data that is needed to solve the problem.</p>
<p>Remember that we use abstract data types to provide the logical
description of what a data object looks like (its state) and what it can
do (its methods). By building a class that implements an abstract data
type, a programmer can take advantage of the abstraction process and at
the same time provide the details necessary to actually use the
abstraction in a program. Whenever we want to implement an abstract data
type, we will do so with a new class.</p>
<div class="section" id="a-fraction-class">
<h4>A <tt class="docutils literal"><span class="pre">Fraction</span></tt> Class<a class="headerlink" href="#a-fraction-class" title="Permalink to this headline">¶</a></h4>
<p>A very common example to show the details of implementing a user-defined
class is to construct a class to implement the abstract data type
<tt class="docutils literal"><span class="pre">Fraction</span></tt>. We have already seen that Python provides a number of
numeric classes for our use. There are times, however, that it would be
most appropriate to be able to create data objects that “look like”
fractions.</p>
<p>A fraction such as <span class="math">\(\frac {3}{5}\)</span> consists of two parts. The top
value, known as the numerator, can be any integer. The bottom value,
called the denominator, can be any integer greater than 0 (negative
fractions have a negative numerator). Although it is possible to create
a floating point approximation for any fraction, in this case we would
like to represent the fraction as an exact value.</p>
<p>The operations for the <tt class="docutils literal"><span class="pre">Fraction</span></tt> type will allow a <tt class="docutils literal"><span class="pre">Fraction</span></tt> data
object to behave like any other numeric value. We need to be able to
add, subtract, multiply, and divide fractions. We also want to be able
to show fractions using the standard “slash” form, for example 3/5. In
addition, all fraction methods should return results in their lowest
terms so that no matter what computation is performed, we always end up
with the most common form.</p>
<p>In Python, we define a new class by providing a name and a set of method
definitions that are syntactically similar to function definitions. For
this example,</p>
<div class="highlight-python"><pre>class Fraction:

   #the methods go here</pre>
</div>
<p>provides the framework for us to define the methods. The first method
that all classes should provide is the constructor. The constructor
defines the way in which data objects are created. To create a
<tt class="docutils literal"><span class="pre">Fraction</span></tt> object, we will need to provide two pieces of data, the
numerator and the denominator. In Python, the constructor method is
always called __init__ (two underscores before and after <tt class="docutils literal"><span class="pre">init</span></tt>)
and is shown in <a class="reference internal" href="#lst-pyconstructor"><em>Listing 2</em></a>.</p>
<div class="highlight-python" id="lst-pyconstructor"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Fraction</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">top</span><span class="p">,</span><span class="n">bottom</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">=</span> <span class="n">top</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">=</span> <span class="n">bottom</span>
</pre></div>
</td></tr></table></div>
<p>Notice that the formal parameter list contains three items (<tt class="docutils literal"><span class="pre">self</span></tt>,
<tt class="docutils literal"><span class="pre">top</span></tt>, <tt class="docutils literal"><span class="pre">bottom</span></tt>). <tt class="docutils literal"><span class="pre">self</span></tt> is a special parameter that will always
be used as a reference back to the object itself. It must always be the
first formal parameter; however, it will never be given an actual
parameter value upon invocation. As described earlier, fractions require
two pieces of state data, the numerator and the denominator. The
notation <tt class="docutils literal"><span class="pre">self.num</span></tt> in the constructor defines the <tt class="docutils literal"><span class="pre">fraction</span></tt> object
to have an internal data object called <tt class="docutils literal"><span class="pre">num</span></tt> as part of its state.
Likewise, <tt class="docutils literal"><span class="pre">self.den</span></tt> creates the denominator. The values of the two
formal parameters are initially assigned to the state, allowing the new
<tt class="docutils literal"><span class="pre">fraction</span></tt> object to know its starting value.</p>
<p>To create an instance of the <tt class="docutils literal"><span class="pre">Fraction</span></tt> class, we must invoke the
constructor. This happens by using the name of the class and passing
actual values for the necessary state (note that we never directly
<tt class="docutils literal"><span class="pre">invoke</span> <span class="pre">__init__</span></tt>). For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">myfraction</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>creates an object called <tt class="docutils literal"><span class="pre">myfraction</span></tt> representing the fraction
<span class="math">\(\frac {3}{5}\)</span> (three-fifths). <a class="reference internal" href="#fig-fraction1"><em>Figure 5</em></a> shows this
object as it is now implemented.</p>
<div class="figure align-center" id="fig-fraction1">
<img alt="_images/fraction1.png" src="_images/fraction1.png" />
<p class="caption">An Instance of the <tt class="docutils literal"><span class="pre">Fraction</span></tt> Class</p>
</div>
<p>The next thing we need to do is implement the behavior that the abstract
data type requires. To begin, consider what happens when we try to print
a <tt class="docutils literal"><span class="pre">Fraction</span></tt> object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&lt;__main__.Fraction instance at 0x409b1acc&gt;</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">fraction</span></tt> object, <tt class="docutils literal"><span class="pre">myf</span></tt>, does not know how to respond to this
request to print. The <tt class="docutils literal"><span class="pre">print</span></tt> function requires that the object
convert itself into a string so that the string can be written to the
output. The only choice <tt class="docutils literal"><span class="pre">myf</span></tt> has is to show the actual reference that
is stored in the variable (the address itself). This is not what we
want.</p>
<p>There are two ways we can solve this problem. One is to define a method
called <tt class="docutils literal"><span class="pre">show</span></tt> that will allow the <tt class="docutils literal"><span class="pre">Fraction</span></tt> object to print itself
as a string. We can implement this method as shown in
<a class="reference internal" href="#lst-showmethod"><em>Listing 3</em></a>. If we create a <tt class="docutils literal"><span class="pre">Fraction</span></tt> object as before, we
can ask it to show itself, in other words, print itself in the proper
format. Unfortunately, this does not work in general. In order to make
printing work properly, we need to tell the <tt class="docutils literal"><span class="pre">Fraction</span></tt> class how to
convert itself into a string. This is what the <tt class="docutils literal"><span class="pre">print</span></tt> function needs
in order to do its job.</p>
<div class="highlight-python" id="lst-showmethod"><div class="highlight"><pre><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">,</span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">3 / 5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&lt;__main__.Fraction instance at 0x40bce9ac&gt;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>In Python, all classes have a set of standard methods that are provided
but may not work properly. One of these, <tt class="docutils literal"><span class="pre">__str__</span></tt>, is the method to
convert an object into a string. The default implementation for this
method is to return the instance address string as we have already seen.
What we need to do is provide a “better” implementation for this method.
We will say that this implementation <strong>overrides</strong> the previous one, or
that it redefines the method’s behavior.</p>
<p>To do this, we simply define a method with the name <tt class="docutils literal"><span class="pre">__str__</span></tt> and
give it a new implementation as shown in <a class="reference internal" href="#lst-str"><em>Listing 4</em></a>. This definition
does not need any other information except the special parameter
<tt class="docutils literal"><span class="pre">self</span></tt>. In turn, the method will build a string representation by
converting each piece of internal state data to a string and then
placing a <tt class="docutils literal"><span class="pre">/</span></tt> character in between the strings using string
concatenation. The resulting string will be returned any time a
<tt class="docutils literal"><span class="pre">Fraction</span></tt> object is asked to convert itself to a string. Notice the
various ways that this function is used.</p>
<div class="highlight-python" id="lst-str"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;/&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">3/5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="s">&quot;I ate&quot;</span><span class="p">,</span> <span class="n">myf</span><span class="p">,</span> <span class="s">&quot;of the pizza&quot;</span><span class="p">)</span>
<span class="go">I ate 3/5 of the pizza</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myf</span><span class="o">.</span><span class="n">__str__</span><span class="p">()</span>
<span class="go">&#39;3/5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">myf</span><span class="p">)</span>
<span class="go">&#39;3/5&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>We can override many other methods for our new <tt class="docutils literal"><span class="pre">Fraction</span></tt> class. Some
of the most important of these are the basic arithmetic operations. We
would like to be able to create two <tt class="docutils literal"><span class="pre">Fraction</span></tt> objects and then add
them together using the standard “+” notation. At this point, if we try
to add two fractions, we get the following:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;pyshell#173&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">-toplevel-</span>
    <span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gr">TypeError</span>: <span class="n">unsupported operand type(s) for +:</span>
<span class="go">          &#39;instance&#39; and &#39;instance&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>If you look closely at the error, you see that the problem is that the
“+” operator does not understand the <tt class="docutils literal"><span class="pre">Fraction</span></tt> operands.</p>
<p>We can fix this by providing the <tt class="docutils literal"><span class="pre">Fraction</span></tt> class with a method that
overrides the addition method. In Python, this method is called
<tt class="docutils literal"><span class="pre">__add__</span></tt> and it requires two parameters. The first, <tt class="docutils literal"><span class="pre">self</span></tt>, is
always needed, and the second represents the other operand in the
expression. For example,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f1</span><span class="o">.</span><span class="n">__add__</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
</pre></div>
</div>
<p>would ask the <tt class="docutils literal"><span class="pre">Fraction</span></tt> object <tt class="docutils literal"><span class="pre">f1</span></tt> to add the <tt class="docutils literal"><span class="pre">Fraction</span></tt> object
<tt class="docutils literal"><span class="pre">f2</span></tt> to itself. This can be written in the standard notation,
<tt class="docutils literal"><span class="pre">f1+f2</span></tt>.</p>
<p>Two fractions must have the same denominator to be added. The easiest
way to make sure they have the same denominator is to simply use the
product of the two denominators as a common denominator so that
<span class="math">\(\frac {a}{b} + \frac {c}{d} = \frac {ad}{bd} + \frac {cb}{bd} = \frac{ad+cb}{bd}\)</span>
The implementation is shown in <a class="reference internal" href="#lst-addmethod"><em>Listing 5</em></a>. The addition
function returns a new <tt class="docutils literal"><span class="pre">Fraction</span></tt> object with the numerator and
denominator of the sum. We can use this method by writing a standard
arithmetic expression involving fractions, assigning the result of the
addition, and then printing our result. It is also worth noting that the
<tt class="docutils literal"><span class="pre">\</span></tt> in line 3 is called the continuation character, which is necessary
when a Python statement is broken across more than one line.</p>
<div class="highlight-python" id="lst-addmethod"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherfraction</span><span class="p">):</span>

     <span class="n">newnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span> <span class="o">+</span> \
                 <span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">num</span>
     <span class="n">newden</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">*</span> <span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span>

     <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">newnum</span><span class="p">,</span><span class="n">newden</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span><span class="o">=</span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">f3</span><span class="p">)</span>
<span class="go">6/8</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>The addition method works as we desire, but one thing could be better.
Note that <span class="math">\(6/8\)</span> is the correct result
(<span class="math">\(\frac {1}{4} + \frac {1}{2}\)</span>) but that it is not in the
“lowest terms” representation. The best representation would be
<span class="math">\(3/4\)</span>. In order to be sure that our results are always in the
lowest terms, we need a helper function that knows how to reduce
fractions. This function will need to look for the greatest common
divisor, or GCD. We can then divide the numerator and the denominator by
the GCD and the result will be reduced to lowest terms.</p>
<p>The best-known algorithm for finding a greatest common divisor is
Euclid’s Algorithm, which will be discussed in detail in Chapter 8.
Euclid’s Algorithm states that the greatest common divisor of two
integers <span class="math">\(m\)</span> and <span class="math">\(n\)</span> is <span class="math">\(n\)</span> if <span class="math">\(n\)</span>
divides <span class="math">\(m\)</span> evenly. However, if <span class="math">\(n\)</span> does not divide
<span class="math">\(m\)</span> evenly, then the answer is the greatest common divisor of
<span class="math">\(n\)</span> and the remainder of <span class="math">\(m\)</span> divided by <span class="math">\(n\)</span>. We
will simply provide an iterative implementation here (see
<a class="reference internal" href="#lst-gcd"><em>Listing 6</em></a>). Note that this implementation of the GCD algorithm only
works when the denominator is positive. This is acceptable for our
fraction class because we have said that a negative fraction will be
represented by a negative numerator.</p>

<div id="gcd_cl" >
<textarea cols="50" rows="12" id="gcd_cl_code" class="active_code">
def gcd(m,n):
    while m%n != 0:
        oldm = m
        oldn = n

        m = oldn
        n = oldm%oldn
    return n

print gcd(20,10)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (gcd_cl)</span> </p>
<button onclick="runit('gcd_cl',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('gcd_cl');">Save</button>
<button class="ac_opt" onclick="requestCode('gcd_cl');">Load</button>
<br />

<canvas id="gcd_cl_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="gcd_cl_pre" class="active_out">

</pre>

</div>

<p>Now we can use this function to help reduce any fraction. To put a
fraction in lowest terms, we will divide the numerator and the
denominator by their greatest common divisor. So, for the fraction
<span class="math">\(6/8\)</span>, the greatest common divisor is 2. Dividing the top and
the bottom by 2 creates a new fraction, <span class="math">\(3/4\)</span> (see
<a class="reference internal" href="#lst-newaddmethod"><em>Listing 7</em></a>).</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2</span><span class="o">=</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f3</span><span class="o">=</span><span class="n">f1</span><span class="o">+</span><span class="n">f2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">f3</span><span class="p">)</span>
<span class="go">3/4</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python" id="lst-newaddmethod"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">otherfraction</span><span class="p">):</span>
    <span class="n">newnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span> <span class="o">+</span> \
                 <span class="bp">self</span><span class="o">.</span><span class="n">den</span><span class="o">*</span><span class="n">otherfraction</span><span class="o">.</span><span class="n">num</span>
    <span class="n">newden</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span> <span class="o">*</span> <span class="n">otherfraction</span><span class="o">.</span><span class="n">den</span>
    <span class="n">common</span> <span class="o">=</span> <span class="n">gcd</span><span class="p">(</span><span class="n">newnum</span><span class="p">,</span><span class="n">newden</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">newnum</span><span class="o">//</span><span class="n">common</span><span class="p">,</span><span class="n">newden</span><span class="o">//</span><span class="n">common</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="figure align-center" id="fig-fraction2">
<img alt="_images/fraction2.png" src="_images/fraction2.png" />
<p class="caption">An Instance of the <tt class="docutils literal"><span class="pre">Fraction</span></tt> Class with Two Methods</p>
</div>
<p>Our <tt class="docutils literal"><span class="pre">Fraction</span></tt> object now has two very useful methods and looks
like <a class="reference internal" href="#fig-fraction2"><em>Figure 6</em></a>. An additional group of methods that we need to
include in our example <tt class="docutils literal"><span class="pre">Fraction</span></tt> class will allow two fractions to
compare themselves to one another. Assume we have two <tt class="docutils literal"><span class="pre">Fraction</span></tt>
objects, <tt class="docutils literal"><span class="pre">f1</span></tt> and <tt class="docutils literal"><span class="pre">f2</span></tt>. <tt class="docutils literal"><span class="pre">f1==f2</span></tt> will only be <tt class="docutils literal"><span class="pre">True</span></tt> if they are
references to the same object. Two different objects with the same
numerators and denominators would not be equal under this
implementation. This is called <strong>shallow equality</strong> (see
<a class="reference internal" href="#fig-fraction3"><em>Figure 7</em></a>).</p>
<div class="figure align-center" id="fig-fraction3">
<img alt="_images/fraction3.png" src="_images/fraction3.png" />
<p class="caption">Shallow Equality Versus Deep Equality</p>
</div>
<p>We can create <strong>deep equality</strong> (see <a class="reference internal" href="#fig-fraction3"><em>Figure 7</em></a>)–equality by the
same value, not the same reference–by overriding the <tt class="docutils literal"><span class="pre">__eq__</span></tt>
method. The <tt class="docutils literal"><span class="pre">__eq__</span></tt> method is another standard method available in
any class. The <tt class="docutils literal"><span class="pre">__eq__</span></tt> method compares two objects and returns
<tt class="docutils literal"><span class="pre">True</span></tt> if their values are the same, <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</p>
<p>In the <tt class="docutils literal"><span class="pre">Fraction</span></tt> class, we can implement the <tt class="docutils literal"><span class="pre">__eq__</span></tt> method by
again putting the two fractions in common terms and then comparing the
numerators (see <a class="reference internal" href="#lst-cmpmethod"><em>Listing 8</em></a>). It is important to note that there
are other relational operators that can be overridden. For example, the
<tt class="docutils literal"><span class="pre">__le__</span></tt> method provides the less than or equal functionality.</p>
<div class="highlight-python" id="lst-cmpmethod"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
    <span class="n">firstnum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="n">other</span><span class="o">.</span><span class="n">den</span>
    <span class="n">secondnum</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">num</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">den</span>

    <span class="k">return</span> <span class="n">firstnum</span> <span class="o">==</span> <span class="n">secondnum</span>
</pre></div>
</td></tr></table></div>
<p>The complete <tt class="docutils literal"><span class="pre">Fraction</span></tt> class, up to this point, is shown in
<a class="reference internal" href="#lst-fractioncode"><em>Listing 9</em></a>. We leave the remaining arithmetic and relational
methods as exercises.</p>

<div id="fraction_class" >
<textarea cols="50" rows="12" id="fraction_class_code" class="active_code">
class Fraction:
     def __init__(self,top,bottom):
         self.num = top
         self.den = bottom

     def __str__(self):
         return str(self.num)+"/"+str(self.den)

     def show(self):
         print(self.num,"/",self.den)

     def __add__(self,otherfraction):
         newnum = self.num*otherfraction.den + \
                      self.den*otherfraction.num
         newden = self.den * otherfraction.den
         common = gcd(newnum,newden)
         return Fraction(newnum//common,newden//common)

     def __eq__(self, other):
         firstnum = self.num * other.den
         secondnum = other.num * self.den

         return firstnum == secondnum

x = Fraction(1,2)
y = Fraction(2,3)
print(x+y)
print(x == y)

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (fraction_class)</span> </p>
<button onclick="runit('fraction_class',this, ['gcd_cl']);">Run</button>
<button class="ac_opt" onclick="saveEditor('fraction_class');">Save</button>
<button class="ac_opt" onclick="requestCode('fraction_class');">Load</button>
<br />

<canvas id="fraction_class_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="fraction_class_pre" class="active_out">

</pre>

</div>

<div class="admonition-self-check admonition">
<p class="first admonition-title">Self  Check</p>
<p>To make sure you understand how operators are implemented in Python classes, and how to properly write methods, write some methods to implement <tt class="docutils literal"><span class="pre">*,</span> <span class="pre">/,</span></tt> and <tt class="docutils literal"><span class="pre">-</span></tt> .  Also implement comparison operators &gt; and &lt;</p>
<div class="last">
<button id="butt_self_check_4" onclick="createActiveCode('self_check_4',''); $('#butt_self_check_4').hide();">Open Editor</button>
<div id="self_check_4"></div>
<br />
</div></div>
</div>
<div class="section" id="inheritance-logic-gates-and-circuits">
<h4>Inheritance: Logic Gates and Circuits<a class="headerlink" href="#inheritance-logic-gates-and-circuits" title="Permalink to this headline">¶</a></h4>
<p>Our final section will introduce another important aspect of
object-oriented programming. <strong>Inheritance</strong> is the ability for one
class to be related to another class in much the same way that people
can be related to one another. Children inherit characteristics from
their parents. Similarly, Python child classes can inherit
characteristic data and behavior from a parent class. These classes are
often referred to as <strong>subclasses</strong> and <strong>superclasses</strong>.</p>
<p><a class="reference internal" href="#fig-inherit1"><em>Figure 8</em></a> shows the built-in Python collections and their
relationships to one another. We call a relationship structure such as
this an <strong>inheritance hierarchy</strong>. For example, the list is a child of
the sequential collection. In this case, we call the list the child and
the sequence the parent (or subclass list and superclass sequence). This
is often referred to as an <tt class="docutils literal"><span class="pre">IS-A</span> <span class="pre">Relationship</span></tt> (the list <strong>IS-A</strong>
sequential collection). This implies that lists inherit important
characteristics from sequences, namely the ordering of the underlying
data and operations such as concatenation, repetition, and indexing.</p>
<div class="figure align-center" id="fig-inherit1">
<img alt="_images/inheritance1.png" src="_images/inheritance1.png" />
<p class="caption">An Inheritance Hierarchy for Python Collections</p>
</div>
<p>Lists, tuples, and strings are all types of sequential collections. They
all inherit common data organization and operations. However, each of
them is distinct based on whether the data is homogeneous and whether
the collection is immutable. The children all gain from their parents
but distinguish themselves by adding additional characteristics.</p>
<p>By organizing classes in this hierarchical fashion, object-oriented
programming languages allow previously written code to be extended to
meet the needs of a new situation. In addition, by organizing data in
this hierarchical manner, we can better understand the relationships
that exist. We can be more efficient in building our abstract
representations.</p>
<p>To explore this idea further, we will construct a <strong>simulation</strong>, an
application to simulate digital circuits. The basic building block for
this simulation will be the logic gate. These electronic switches
represent boolean algebra relationships between their input and their
output. In general, gates have a single output line. The value of the
output is dependent on the values given on the input lines.</p>
<p>AND gates have two input lines, each of which can be either 0 or 1
(representing <tt class="docutils literal"><span class="pre">False</span></tt> or <tt class="docutils literal"><span class="pre">True</span></tt>, repectively). If both of the input
lines have the value 1, the resulting output is 1. However, if either or
both of the input lines is 0, the result is 0. OR gates also have two
input lines and produce a 1 if one or both of the input values is a 1.
In the case where both input lines are 0, the result is 0.</p>
<p>NOT gates differ from the other two gates in that they only have a
single input line. The output value is simply the opposite of the input
value. If 0 appears on the input, 1 is produced on the output.
Similarly, 1 produces 0. <a class="reference internal" href="#fig-truthtable"><em>Figure 9</em></a> shows how each of these
gates is typically represented. Each gate also has a <strong>truth table</strong> of
values showing the input-to-output mapping that is performed by the
gate.</p>
<div class="figure align-center" id="fig-truthtable">
<img alt="_images/truthtable.png" src="_images/truthtable.png" />
<p class="caption">Three Types of Logic Gates</p>
</div>
<p>By combining these gates in various patterns and then applying a set of
input values, we can build circuits that have logical functions.
<a class="reference internal" href="#fig-circuit1"><em>Figure 10</em></a> shows a circuit consisting of two AND gates, one OR
gate, and a single NOT gate. The output lines from the two AND gates
feed directly into the OR gate, and the resulting output from the OR
gate is given to the NOT gate. If we apply a set of input values to the
four input lines (two for each AND gate), the values are processed and a
result appears at the output of the NOT gate. <a class="reference internal" href="#fig-circuit1"><em>Figure 10</em></a> also
shows an example with values.</p>
<div class="figure align-center" id="fig-circuit1">
<img alt="_images/circuit1.png" src="_images/circuit1.png" />
<p class="caption">Circuit</p>
</div>
<p>In order to implement a circuit, we will first build a representation
for logic gates. Logic gates are easily organized into a class
inheritance hierarchy as shown in <a class="reference internal" href="#fig-gates"><em>Figure 11</em></a>. At the top of the
hierarchy, the <tt class="docutils literal"><span class="pre">LogicGate</span></tt> class represents the most general
characteristics of logic gates: namely, a label for the gate and an
output line. The next level of subclasses breaks the logic gates into
two families, those that have one input line and those that have two.
Below that, the specific logic functions of each appear.</p>
<div class="figure align-center" id="fig-gates">
<img alt="_images/gates.png" src="_images/gates.png" />
<p class="caption">An Inheritance Hierarchy for Logic Gates</p>
</div>
<p>We can now start to implement the classes by starting with the most
general, <tt class="docutils literal"><span class="pre">LogicGate</span></tt>. As noted earlier, each gate has a label for
identification and a single output line. In addition, we need methods to
allow a user of a gate to ask the gate for its label.</p>
<p>The other behavior that every logic gate needs is the ability to know
its output value. This will require that the gate perform the
appropriate logic based on the current input. In order to produce
output, the gate needs to know specifically what that logic is. This
means calling a method to perform the logic computation. The complete
class is shown in <a class="reference internal" href="#lst-logicgateclass"><em>Listing 10</em></a>.</p>

<div id="logicgate_class" >
<textarea cols="50" rows="12" id="logicgate_class_code" class="active_code">
class LogicGate:

    def __init__(self,n):
        self.label = n
        self.output = None

    def getLabel(self):
        return self.label

    def getOutput(self):
        self.output = self.performGateLogic()
        return self.output

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (logicgate_class)</span> </p>
<button onclick="runit('logicgate_class',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('logicgate_class');">Save</button>
<button class="ac_opt" onclick="requestCode('logicgate_class');">Load</button>
<br />

<canvas id="logicgate_class_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="logicgate_class_pre" class="active_out">

</pre>

</div>

<p>At this point, we will not implement the <tt class="docutils literal"><span class="pre">performGateLogic</span></tt> function.
The reason for this is that we do not know how each gate will perform
its own logic operation. Those details will be included by each
individual gate that is added to the hierarchy. This is a very powerful
idea in object-oriented programming. We are writing a method that will
use code that does not exist yet. The parameter <tt class="docutils literal"><span class="pre">self</span></tt> is a reference
to the actual gate object invoking the method. Any new logic gate that
gets added to the hierarchy will simply need to implement the
<tt class="docutils literal"><span class="pre">performGateLogic</span></tt> function and it will be used at the appropriate
time. Once done, the gate can provide its output value. This ability to
extend a hierarchy that currently exists and provide the specific
functions that the hierarchy needs to use the new class is extremely
important for reusing existing code.</p>
<p>We categorized the logic gates based on the number of input lines. The
AND gate has two input lines. The OR gate also has two input lines. NOT
gates have one input line. The <tt class="docutils literal"><span class="pre">BinaryGate</span></tt> class will be a subclass
of <tt class="docutils literal"><span class="pre">LogicGate</span></tt> and will add two input lines. The <tt class="docutils literal"><span class="pre">UnaryGate</span></tt> class
will also subclass <tt class="docutils literal"><span class="pre">LogicGate</span></tt> but will have only a single input line.
In computer circuit design, these lines are sometimes called “pins” so
we will use that terminology in our implementation.</p>

<div id="binarygate_class" >
<textarea cols="50" rows="12" id="binarygate_class_code" class="active_code">
class BinaryGate(LogicGate):

    def __init__(self,n):
        LogicGate.__init__(self,n)

        self.pinA = None
        self.pinB = None

    def getPinA(self):
        return int(input("Enter Pin A input for gate "+ \
                           self.getLabel()+"-->"))

    def getPinB(self):
        return int(input("Enter Pin B input for gate "+ \
                           self.getLabel()+"-->"))

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (binarygate_class)</span> </p>
<button onclick="runit('binarygate_class',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('binarygate_class');">Save</button>
<button class="ac_opt" onclick="requestCode('binarygate_class');">Load</button>
<br />

<canvas id="binarygate_class_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="binarygate_class_pre" class="active_out">

</pre>

</div>

<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UnaryGate</span><span class="p">(</span><span class="n">LogicGate</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">):</span>
        <span class="n">LogicGate</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">n</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pin</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">getPin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s">&quot;Enter Pin input for gate &quot;</span><span class="o">+</span> \
                           <span class="bp">self</span><span class="o">.</span><span class="n">getLabel</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;--&gt;&quot;</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Listings&nbsp;<tt class="docutils literal"><span class="pre">binarygateclass</span></tt> and <tt class="docutils literal"><span class="pre">unarygateclass</span></tt> implement these two
classes. The constructors in both of these classes start with an
explicit call to the constructor of the parent class using the <tt class="docutils literal"><span class="pre">super</span></tt>
function. When creating an instance of the <tt class="docutils literal"><span class="pre">BinaryGate</span></tt> class, we
first want to initialize any data items that are inherited from
<tt class="docutils literal"><span class="pre">LogicGate</span></tt>. In this case, that means the label for the gate. The
constructor then goes on to add the two input lines (<tt class="docutils literal"><span class="pre">pinA</span></tt> and
<tt class="docutils literal"><span class="pre">pinB</span></tt>). This is a very common pattern that you should always use when
building class hierarchies. Child class constructors need to call parent
class constructors and then move on to their own distinguishing data.</p>
<p>The only behavior that the <tt class="docutils literal"><span class="pre">BinaryGate</span></tt> class adds is the ability to
get the values from the two input lines. Since these values come from
some external place, we will simply ask the user via an input statement
to provide them. The same implementation occurs for the <tt class="docutils literal"><span class="pre">UnaryGate</span></tt>
class except that there is only one input line.</p>
<p>Now that we have a general class for gates depending on the number of
input lines, we can build specific gates that have unique behavior. For
example, the <tt class="docutils literal"><span class="pre">AndGate</span></tt> class will be a subclass of <tt class="docutils literal"><span class="pre">BinaryGate</span></tt>
since AND gates have two input lines. As before, the first line of the
constructor calls upon the parent class constructor (<tt class="docutils literal"><span class="pre">BinaryGate</span></tt>),
which in turn calls its parent class constructor (<tt class="docutils literal"><span class="pre">LogicGate</span></tt>). Note
that the <tt class="docutils literal"><span class="pre">AndGate</span></tt> class does not provide any new data since it
inherits two input lines, one output line, and a label.</p>

<div id="andgate_class" >
<textarea cols="50" rows="12" id="andgate_class_code" class="active_code">
class AndGate(BinaryGate):

    def __init__(self,n):
        BinaryGate.__init__(self,n)

    def performGateLogic(self):

        a = self.getPinA()
        b = self.getPinB()
        if a==1 and b==1:
            return 1
        else:
            return 0

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (andgate_class)</span> </p>
<button onclick="runit('andgate_class',this, undefined);">Run</button>
<button class="ac_opt" onclick="saveEditor('andgate_class');">Save</button>
<button class="ac_opt" onclick="requestCode('andgate_class');">Load</button>
<br />

<canvas id="andgate_class_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="andgate_class_pre" class="active_out">

</pre>

</div>

<p>The only thing <tt class="docutils literal"><span class="pre">AndGate</span></tt> needs to add is the specific behavior that
performs the boolean operation that was described earlier. This is the
place where we can provide the <tt class="docutils literal"><span class="pre">performGateLogic</span></tt> method. For an AND
gate, this method first must get the two input values and then only
return 1 if both input values are 1. The complete class is shown in
<a class="reference internal" href="#lst-andgateclass"><em>Listing 11</em></a>.</p>
<p>We can show the <tt class="docutils literal"><span class="pre">AndGate</span></tt> class in action by creating an instance and
asking it to compute its output. The following session shows an
<tt class="docutils literal"><span class="pre">AndGate</span></tt> object, <tt class="docutils literal"><span class="pre">g1</span></tt>, that has an internal label <tt class="docutils literal"><span class="pre">&quot;G1&quot;</span></tt>. When we
invoke the <tt class="docutils literal"><span class="pre">getOutput</span></tt> method, the object must first call its
<tt class="docutils literal"><span class="pre">performGateLogic</span></tt> method which in turn queries the two input lines.
Once the values are provided, the correct output is shown.</p>

<div id="andgate_test" >
<textarea cols="50" rows="12" id="andgate_test_code" class="active_code">
g1 = AndGate("G1")
print(g1.getOutput())

</textarea>
<p class="ac_caption"><span class="ac_caption_text"> (andgate_test)</span> </p>
<button onclick="runit('andgate_test',this, ['logicgate_class', 'binarygate_class', 'andgate_class']);">Run</button>
<button class="ac_opt" onclick="saveEditor('andgate_test');">Save</button>
<button class="ac_opt" onclick="requestCode('andgate_test');">Load</button>
<br />

<canvas id="andgate_test_canvas" height="400" width="400" style="border-style: solid; display: none"></canvas>

<pre id="andgate_test_pre" class="active_out">

</pre>

</div>

<p>The same development can be done for OR gates and NOT gates. The
<tt class="docutils literal"><span class="pre">OrGate</span></tt> class will also be a subclass of <tt class="docutils literal"><span class="pre">BinaryGate</span></tt> and the
<tt class="docutils literal"><span class="pre">NotGate</span></tt> class will extend the <tt class="docutils literal"><span class="pre">UnaryGate</span></tt> class. Both of these
classes will need to provide their own <tt class="docutils literal"><span class="pre">performGateLogic</span></tt> functions,
as this is their specific behavior.</p>
<p>We can use a single gate by first constructing an instance of one of the
gate classes and then asking the gate for its output (which will in turn
need inputs to be provided). For example:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">OrGate</span><span class="p">(</span><span class="s">&quot;G2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin A input for gate G2--&gt;1</span>
<span class="go">Enter Pin B input for gate G2--&gt;1</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin A input for gate G2--&gt;0</span>
<span class="go">Enter Pin B input for gate G2--&gt;0</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">NotGate</span><span class="p">(</span><span class="s">&quot;G3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Enter Pin input for gate G3--&gt;0</span>
<span class="go">1</span>
</pre></div>
</td></tr></table></div>
<p>Now that we have the basic gates working, we can turn our attention to
building circuits. In order to create a circuit, we need to connect
gates together, the output of one flowing into the input of another. To
do this, we will implement a new class called <tt class="docutils literal"><span class="pre">Connector</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">Connector</span></tt> class will not reside in the gate hierarchy. It will,
however, use the gate hierarchy in that each connector will have two
gates, one on either end (see <a class="reference internal" href="#fig-connector"><em>Figure 12</em></a>). This relationship is
very important in object-oriented programming. It is called the <strong>HAS-A
Relationship</strong>. Recall earlier that we used the phrase “IS-A
Relationship” to say that a child class is related to a parent class,
for example <tt class="docutils literal"><span class="pre">UnaryGate</span></tt> IS-A <tt class="docutils literal"><span class="pre">LogicGate</span></tt>.</p>
<div class="figure align-center" id="fig-connector">
<img alt="_images/connector.png" src="_images/connector.png" />
<p class="caption">A Connector Connects the Output of One Gate to the Input of Another</p>
</div>
<p>Now, with the <tt class="docutils literal"><span class="pre">Connector</span></tt> class, we say that a <tt class="docutils literal"><span class="pre">Connector</span></tt> HAS-A
<tt class="docutils literal"><span class="pre">LogicGate</span></tt> meaning that connectors will have instances of the
<tt class="docutils literal"><span class="pre">LogicGate</span></tt> class within them but are not part of the hierarchy. When
designing classes, it is very important to distinguish between those
that have the IS-A relationship (which requires inheritance) and those
that have HAS-A relationships (with no inheritance).</p>
<p><a class="reference internal" href="#lst-connectorclass"><em>Listing 12</em></a> shows the <tt class="docutils literal"><span class="pre">Connector</span></tt> class. The two gate
instances within each connector object will be referred to as the
<tt class="docutils literal"><span class="pre">fromgate</span></tt> and the <tt class="docutils literal"><span class="pre">togate</span></tt>, recognizing that data values will
“flow” from the output of one gate into an input line of the next. The
call to <tt class="docutils literal"><span class="pre">setNextPin</span></tt> is very important for making connections (see
<a class="reference internal" href="#lst-setpin"><em>Listing x</em></a>). We need to add this method to our gate classes so
that each <tt class="docutils literal"><span class="pre">togate</span></tt> can choose the proper input line for the
connection.</p>
<div class="highlight-python" id="lst-connectorclass"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fgate</span><span class="p">,</span> <span class="n">tgate</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span> <span class="o">=</span> <span class="n">fgate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">togate</span> <span class="o">=</span> <span class="n">tgate</span>

        <span class="n">tgate</span><span class="o">.</span><span class="n">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">getFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fromgate</span>

    <span class="k">def</span> <span class="nf">getTo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">togate</span>
</pre></div>
</td></tr></table></div>
<p>In the <tt class="docutils literal"><span class="pre">BinaryGate</span></tt> class, for gates with two possible input lines,
the connector must be connected to only one line. If both of them are
available, we will choose <tt class="docutils literal"><span class="pre">pinA</span></tt> by default. If <tt class="docutils literal"><span class="pre">pinA</span></tt> is already
connected, then we will choose <tt class="docutils literal"><span class="pre">pinB</span></tt>. It is not possible to connect
to a gate with no available input lines.</p>
<div class="highlight-python" id="lst-setpin"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">setNextPin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">source</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">=</span> <span class="n">source</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pinB</span> <span class="o">=</span> <span class="n">source</span>
        <span class="k">else</span><span class="p">:</span>
           <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s">&quot;Error: NO EMPTY PINS&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Now it is possible to get input from two places: externally, as before,
and from the output of a gate that is connected to that input line. This
requires a change to the <tt class="docutils literal"><span class="pre">getPinA</span></tt> and <tt class="docutils literal"><span class="pre">getPinB</span></tt> methods (see
<a class="reference internal" href="#lst-newgetpin"><em>Listing 13</em></a>). If the input line is not connected to anything
(<tt class="docutils literal"><span class="pre">None</span></tt>), then ask the user externally as before. However, if there is
a connection, the connection is accessed and <tt class="docutils literal"><span class="pre">fromgate</span></tt>’s output value
is retrieved. This in turn causes that gate to process its logic. This
continues until all input is available and the final output value
becomes the required input for the gate in question. In a sense, the
circuit works backwards to find the input necessary to finally produce
output.</p>
<div class="highlight-python" id="lst-newgetpin"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">def</span> <span class="nf">getPinA</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">input</span><span class="p">(</span><span class="s">&quot;Enter Pin A input for gate &quot;</span><span class="o">+</span> \
                           <span class="bp">self</span><span class="o">.</span><span class="n">getName</span><span class="p">()</span><span class="o">+</span><span class="s">&quot;--&gt;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pinA</span><span class="o">.</span><span class="n">getFrom</span><span class="p">()</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
<p>The following fragment constructs the circuit shown earlier in the
section:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s">&quot;G1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2</span> <span class="o">=</span> <span class="n">AndGate</span><span class="p">(</span><span class="s">&quot;G2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g3</span> <span class="o">=</span> <span class="n">OrGate</span><span class="p">(</span><span class="s">&quot;G3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g4</span> <span class="o">=</span> <span class="n">NotGate</span><span class="p">(</span><span class="s">&quot;G4&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g1</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g2</span><span class="p">,</span><span class="n">g3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c3</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="n">g3</span><span class="p">,</span><span class="n">g4</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The outputs from the two AND gates (<tt class="docutils literal"><span class="pre">g1</span></tt> and <tt class="docutils literal"><span class="pre">g2</span></tt>) are connected to
the OR gate (<tt class="docutils literal"><span class="pre">g3</span></tt>) and that output is connected to the NOT gate
(<tt class="docutils literal"><span class="pre">g4</span></tt>). The output from the NOT gate is the output of the entire
circuit. For example:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g4</span><span class="o">.</span><span class="n">getOutput</span><span class="p">()</span>
<span class="go">Pin A input for gate G1--&gt;0</span>
<span class="go">Pin B input for gate G1--&gt;1</span>
<span class="go">Pin A input for gate G2--&gt;1</span>
<span class="go">Pin B input for gate G2--&gt;1</span>
<span class="go">0</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</td></tr></table></div>
<p>A complete listing of the circuit simulation classes is available on the
companion website for this book <tt class="docutils literal"><span class="pre">http://www.pythonworks.org</span></tt>.</p>
<div class="admonition-self-check admonition">
<p class="first admonition-title">Self Check</p>
<p>Create a two new gate clasess  one called NorGate the other called NandGate.  NandGates work like AndGates that have a Not attached to the output.  NorGates work lake OrGates that have a Not attached to the output.</p>
<p>Create a series of gates that prove the following equality NOT (( A and B) or (C and D)) is that same as NOT( A and B ) and NOT (C and D).  Make sure to use some of your new gates in the simulation.</p>
<div class="last">
<button id="butt_self_check_5" onclick="createActiveCode('self_check_5',''); $('#butt_self_check_5').hide();">Open Editor</button>
<div id="self_check_5"></div>
<br />
</div></div>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Computer science is the study of problem solving.</li>
<li>Computer science uses abstraction as a tool for representing both
processes and data.</li>
<li>Abstract data types allow programmers to manage the complexity of a
problem domain by hiding the details of the data.</li>
<li>Python is a powerful, yet easy-to-use, object-oriented language.</li>
<li>Lists, tuples, and strings are built in Python sequential
collections.</li>
<li>Dictionaries and sets are nonsequential collections of data.</li>
<li>Classes allow programmers to implement abstract data types.</li>
<li>Programmers can override standard methods as well as create new
methods.</li>
<li>Classes can be organized into hierarchies.</li>
<li>A class constructor should always invoke the constructor of its
parent before continuing on with its own data and behavior.</li>
</ul>
</div>
<div class="section" id="key-terms">
<h2>Key Terms<a class="headerlink" href="#key-terms" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="27%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">abstract data type</th>
<th class="head">abstraction</th>
<th class="head">algorithm</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>class</td>
<td>computable</td>
<td>data abstraction</td>
</tr>
<tr class="row-odd"><td>data structure</td>
<td>data type</td>
<td>deep equality</td>
</tr>
<tr class="row-even"><td>dictionary</td>
<td>encapsulation</td>
<td>exception</td>
</tr>
<tr class="row-odd"><td>format operator</td>
<td>formatted strings</td>
<td>HAS-A relationship</td>
</tr>
<tr class="row-even"><td>implementation-independent</td>
<td>information hiding</td>
<td>inheritance</td>
</tr>
<tr class="row-odd"><td>inheritance hierarchy</td>
<td>interface</td>
<td>IS-A relationship</td>
</tr>
<tr class="row-even"><td>list</td>
<td>list comprehension</td>
<td>method</td>
</tr>
<tr class="row-odd"><td>mutability</td>
<td>object</td>
<td>procedural abstraction</td>
</tr>
<tr class="row-even"><td>programming</td>
<td>prompt</td>
<td><tt class="docutils literal"><span class="pre">self</span></tt></td>
</tr>
<tr class="row-odd"><td>shallow equality</td>
<td>simulation</td>
<td>string</td>
</tr>
<tr class="row-even"><td>subclass</td>
<td>superclass</td>
<td>truth table</td>
</tr>
</tbody>
</table>
<p>{tab:keywords}</p>
</div>
<div class="section" id="discussion-questions">
<h2>Discussion Questions<a class="headerlink" href="#discussion-questions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Construct a class hierarchy for people on a college campus. Include
faculty, staff, and students. What do they have in common? What
distinguishes them from one another?</li>
<li>Construct a class hierarchy for bank accounts.</li>
<li>Construct a class hierarchy for different types of computers.</li>
<li>Using the classes provided in the chapter, interactively construct a
circuit and test it.</li>
</ol>
</div>
<div class="section" id="programming-exercises">
<h2>Programming Exercises<a class="headerlink" href="#programming-exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Implement the simple methods <tt class="docutils literal"><span class="pre">getNum</span></tt> and <tt class="docutils literal"><span class="pre">getDen</span></tt> that will
return the numerator and denominator of a fraction.</li>
<li>In many ways it would be better if all fractions were maintained in
lowest terms right from the start. Modify the constructor for the
<tt class="docutils literal"><span class="pre">Fraction</span></tt> class so that <tt class="docutils literal"><span class="pre">GCD</span></tt> is used to reduce fractions
immediately. Notice that this means the <tt class="docutils literal"><span class="pre">__add__</span></tt> function no
longer needs to reduce. Make the necessary modifications.</li>
<li>Implement the remaining simple arithmetic operators (<tt class="docutils literal"><span class="pre">__sub__</span></tt>,
<tt class="docutils literal"><span class="pre">__mul__</span></tt>, and <tt class="docutils literal"><span class="pre">__truediv__</span></tt>).</li>
<li>Implement the remaining relational operators (<tt class="docutils literal"><span class="pre">__gt__</span></tt>,
<tt class="docutils literal"><span class="pre">__ge__</span></tt>, <tt class="docutils literal"><span class="pre">__lt__</span></tt>, <tt class="docutils literal"><span class="pre">__le__</span></tt>, and <tt class="docutils literal"><span class="pre">__ne__</span></tt>)</li>
<li>Modify the constructor for the fraction class so that it checks to
make sure that the numerator and denominator are both integers. If
either is not an integer the constructor should raise an exception.</li>
<li>In the definition of fractions we assumed that negative fractions
have a negative numerator and a positive denominator. Using a
negative denominator would cause some of the relational operators to
give incorrect results. In general, this is an unnecessary
constraint. Modify the constructor to allow the user to pass a
negative denominator so that all of the operators continue to work
properly.</li>
<li>Research the <tt class="docutils literal"><span class="pre">__radd__</span></tt> method. How does it differ from
<tt class="docutils literal"><span class="pre">__add__</span></tt>? When is it used? Implement <tt class="docutils literal"><span class="pre">__radd__</span></tt>.</li>
<li>Repeat the last question but this time consider the <tt class="docutils literal"><span class="pre">__iadd__</span></tt>
method.</li>
<li>Research the <tt class="docutils literal"><span class="pre">__repr__</span></tt> method. How does it differ from
<tt class="docutils literal"><span class="pre">__str__</span></tt>? When is it used? Implement <tt class="docutils literal"><span class="pre">__repr__</span></tt>.</li>
<li>Research other types of gates that exist (such as NAND, NOR, and
XOR). Add them to the circuit hierarchy. How much additional coding
did you need to do?</li>
<li>The most simple arithmetic circuit is known as the half-adder.
Research the simple half-adder circuit. Implement this circuit.</li>
<li>Now extend that circuit and implement an 8 bit full-adder.</li>
<li>The circuit simulation shown in this chapter works in a backward
direction. In other words, given a circuit, the output is produced by
working back through the input values, which in turn cause other
outputs to be queried. This continues until external input lines are
found, at which point the user is asked for values. Modify the
implementation so that the action is in the forward direction; upon
receiving inputs the circuit produces an output.</li>
<li>Design a class to represent a playing card. Now design a class to
represent a deck of cards. Using these two classes, implement a
favorite card game.</li>
<li>Find a Sudoku puzzle in the local newspaper. Write a program to solve
the puzzle.</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="analysis.html" title="Algorithm Analysis"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to Problem Solving with Algorithms and Data Structures"
             >previous</a> |</li>
        <li><a href="index.html">Problem Solving with Algorithms and Data Structures 3.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Brad Miller, Kent Lee, David Ranum.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>